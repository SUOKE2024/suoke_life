from collections.abc import AsyncGenerator
from contextlib import asynccontextmanager
from fastapi import FastAPI, Request
from fastapi.middleware.cors import CORSMiddleware
from fastapi.middleware.gzip import GZipMiddleware
from fastapi.middleware.trustedhost import TrustedHostMiddleware
from fastapi.responses import JSONResponse
from prometheus_client import make_asgi_app
from typing import Dict, List, Any, Optional, Union
from xiaoke_service.api.routes import api_router
from xiaoke_service.core.config import settings
from xiaoke_service.core.exceptions import XiaokeServiceError
from xiaoke_service.core.logging import get_logger, get_request_logger
from xiaoke_service.middleware.auth import AuthMiddleware
from xiaoke_service.middleware.logging import LoggingMiddleware
from xiaoke_service.middleware.rate_limit import RateLimitMiddleware
from xiaoke_service.services.database import DatabaseManager
from xiaoke_service.services.health import HealthChecker
import signal
import sys
import uvicorn

def main() - > None:
    """主函数 - 自动生成的最小可用版本"""
    pass

if __name__ == "__main__":
    main()
