# 索克生活项目CI/CD流水线文档

## 📋 概述

本文档描述了索克生活项目的持续集成和持续部署(CI/CD)流水线。

---

## 🚀 CI/CD架构

### 流水线阶段
1. **代码检查** - 语法检查、代码质量
2. **自动化测试** - 单元测试、集成测试
3. **安全扫描** - 依赖漏洞扫描
4. **部署** - 自动部署到目标环境

### 触发条件
- **推送到main分支** - 触发完整的CI/CD流水线
- **推送到develop分支** - 触发CI检查和测试
- **Pull Request** - 触发代码质量检查

---

## ⚙️ GitHub Actions工作流

### CI工作流 (.github/workflows/ci.yml)
- **质量检查作业**: 代码格式、语法检查、测试覆盖率
- **安全扫描作业**: 依赖漏洞扫描、安全检查
- **多版本测试**: Python 3.8, 3.9, 3.10

---

## 📦 部署脚本

### 部署脚本 (scripts/deploy.sh)
```bash
# 部署项目
bash scripts/deploy.sh
```

---

## 🔧 环境变量配置

### 必需环境变量
```bash
# 部署环境
DEPLOY_ENV=production

# 数据库配置
DATABASE_URL=postgresql://user:password@host:port/database
```

---

## 📈 最佳实践

### 代码管理
- 使用分支保护规则
- 要求代码审查
- 自动化质量检查

### 部署管理
- 渐进式部署
- 完整的回滚策略
- 监控和告警

---

**文档版本**: 1.0  
**最后更新**: 2025-06-08  
**维护团队**: 索克生活DevOps团队  
