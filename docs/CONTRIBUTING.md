# 贡献指南

感谢您对索克生活APP项目的关注！本文档将指导您如何为项目做出贡献。

## 目录

- [行为准则](#行为准则)
- [如何贡献](#如何贡献)
- [开发流程](#开发流程)
- [提交规范](#提交规范)
- [问题反馈](#问题反馈)
- [功能请求](#功能请求)
- [文档贡献](#文档贡献)
- [代码审查流程](#代码审查流程)

## 行为准则

本项目采用贡献者公约([Contributor Covenant](https://www.contributor-covenant.org/))作为行为准则。参与本项目即表示您同意遵守该公约。请尊重所有参与者，保持专业和包容的态度。

## 如何贡献

参与贡献主要有以下几种方式：

1. 报告问题和提出功能建议
2. 修复已知问题
3. 实现新功能
4. 改进文档
5. 审查代码
6. 参与讨论和设计

### 准备工作

在开始贡献之前，您需要：

1. 安装开发环境（参考[开发指南](DEVELOPMENT_GUIDE.md)）
2. Fork项目仓库
3. 克隆您的Fork到本地
4. 添加上游仓库作为remote（便于同步更新）

```bash
git clone https://github.com/YOUR-USERNAME/suoke_life.git
cd suoke_life
git remote add upstream https://github.com/SUOKE2024/suoke_life.git
```

### 保持同步

在提交贡献前，确保您的分支与最新的主分支同步：

```bash
git checkout develop
git pull upstream develop
```

## 开发流程

1. **创建功能分支**

   ```bash
   git checkout -b feature/your-feature-name
   ```

   分支命名规范：
   - `feature/xxx`: 新功能
   - `bugfix/xxx`: 缺陷修复
   - `docs/xxx`: 文档更新
   - `style/xxx`: 代码格式修改
   - `refactor/xxx`: 代码重构
   - `test/xxx`: 测试代码
   - `chore/xxx`: 构建过程或辅助工具变动

2. **开发并测试**

   - 遵循项目的代码规范
   - 编写单元测试（测试覆盖率目标80%+）
   - 确保所有测试通过

3. **提交更改**

   ```bash
   git add .
   git commit -m "feat(module): 添加新功能"
   ```

4. **推送到您的Fork**

   ```bash
   git push origin feature/your-feature-name
   ```

5. **创建Pull Request**

   - 在GitHub上创建PR，将您的分支合并到`develop`分支
   - 填写PR模板，详细描述变更内容和影响
   - 关联相关Issue（如有）

## 提交规范

项目采用Angular提交规范（[Conventional Commits](https://www.conventionalcommits.org/)）。提交信息结构如下：

```
<type>(<scope>): <subject>

<body>

<footer>
```

### 类型(Type)

- `feat`: 新功能
- `fix`: 修复Bug
- `docs`: 文档修改
- `style`: 不影响代码含义的格式修改（空格、格式化等）
- `refactor`: 代码重构（既不是新功能也不是修复Bug）
- `perf`: 性能优化
- `test`: 添加或修改测试代码
- `chore`: 构建过程或辅助工具变动
- `ci`: CI配置文件和脚本变动
- `revert`: 撤销先前的提交

### 范围(Scope)

指明变更的模块/功能，例如：

- `auth`
- `home`
- `core`
- `api`
- `ui`

### 主题(Subject)

- 简短描述变更内容，不超过50个字符
- 使用现在时态（"add"而非"added"）
- 中文项目建议使用中文描述
- 首字母不大写
- 结尾不加句号

### 示例

```
feat(user): 添加用户注册功能

实现了用户通过手机号注册的功能，包括验证码发送和验证逻辑。

Closes #123
```

## 问题反馈

### 提交问题前

- 检查问题是否已存在
- 确认问题能够在最新版本中复现
- 收集相关的环境信息（设备、系统版本、应用版本等）

### 提交问题时

- 使用清晰且描述性的标题
- 详细描述问题的复现步骤
- 描述期望的行为和实际的行为
- 如可能，附上截图或录屏
- 标记相关的标签

## 功能请求

### 提交功能请求时

- 清晰描述功能的目的和价值
- 提供具体的使用场景
- 描述可能的实现方案（如有）
- 考虑功能对现有架构的影响

## 文档贡献

文档是项目成功的关键部分。您可以通过以下方式贡献文档：

1. 修复现有文档中的错误或不一致
2. 改进文档表述，使其更易理解
3. 添加缺失的文档内容
4. 翻译文档

文档相关的提交也应遵循相同的提交规范，使用`docs`作为类型。

## 代码审查流程

贡献者提交PR后，项目维护者会进行代码审查。审查内容包括：

- 代码质量和风格
- 功能完整性和正确性
- 测试覆盖率和质量
- 文档完整性

审查通过后，PR将被合并到目标分支。如有需要修改的地方，维护者会提供具体反馈。

### 代码审查标准

- 代码符合项目规范
- 无明显的性能或安全问题
- 测试覆盖充分
- 变更具有向后兼容性（除非特殊说明）
- 功能实现符合需求

### 合并策略

项目采用"Squash and Merge"策略，将PR中的所有提交合并为一个提交添加到目标分支。这保持了提交历史的简洁性。

## 发布流程

项目维护者负责发布新版本。发布流程通常包括：

1. 从`develop`分支创建`release`分支
2. 进行最终测试和修复
3. 更新版本号和变更日志
4. 合并到`main`分支并打标签
5. 构建并发布应用

## 表彰

所有贡献者都将被添加到项目的贡献者列表中。我们非常感谢每一位贡献者的付出！

---

再次感谢您对索克生活APP的关注和支持。如有任何问题，请随时联系项目维护者。
