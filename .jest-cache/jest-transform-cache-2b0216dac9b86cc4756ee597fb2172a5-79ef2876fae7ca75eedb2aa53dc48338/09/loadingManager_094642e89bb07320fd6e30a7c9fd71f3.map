{"version":3,"names":["_react","_interopRequireWildcard","require","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","cov_1crwq0fd75","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","b","_coverageSchema","coverage","actualCoverage","LoadingContext","createContext","LoadingProvider","exports","_ref","children","_ref2","useState","_ref3","_slicedToArray2","loadingStates","setLoadingStates","setLoading","key","loading","prev","assign","_defineProperty2","isLoading","isAnyLoading","values","some","jsx","Provider","value","useLoading","context","useContext","Error","useAsyncOperation","operation","_ref4","_asyncToGenerator2","result","apply","arguments"],"sources":["loadingManager.tsx"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react';\n\ninterface LoadingState {\n  [key: string]: boolean;\n}\n\ninterface LoadingContextType {\n  loadingStates: LoadingState;\n  setLoading: (key: string, loading: boolean) => void;\n  isLoading: (key: string) => boolean;\n  isAnyLoading: () => boolean;\n}\n\nconst LoadingContext = createContext<LoadingContextType | null>(null);\n\n/**\n * 加载状态Provider\n */\nexport const LoadingProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [loadingStates, setLoadingStates] = useState<LoadingState>({});\n  \n  const setLoading = (key: string, loading: boolean) => {\n    setLoadingStates(prev => ({\n      ...prev,\n      [key]: loading\n    }));\n  };\n  \n  const isLoading = (key: string) => {\n    return loadingStates[key] || false;\n  };\n  \n  const isAnyLoading = () => {\n    return Object.values(loadingStates).some(loading => loading);\n  };\n  \n  return (\n    <LoadingContext.Provider value={{\n      loadingStates,\n      setLoading,\n      isLoading,\n      isAnyLoading\n    }}>\n      {children}\n    </LoadingContext.Provider>\n  );\n};\n\n/**\n * 使用加载状态Hook\n */\nexport const useLoading = () => {\n  const context = useContext(LoadingContext);\n  if (!context) {\n    throw new Error('useLoading must be used within LoadingProvider');\n  }\n  return context;\n};\n\n/**\n * 自动管理加载状态的Hook\n */\nexport const useAsyncOperation = <T extends any[], R>(\n  operation: (...args: T) => Promise<R>,\n  key: string\n) => {\n  const { setLoading } = useLoading();\n  \n  return async (...args: T): Promise<R> => {\n    setLoading(key, true);\n    try {\n      const result = await operation(...args);\n      return result;\n    } finally {\n      setLoading(key, false);\n    }\n  };\n};"],"mappings":";;;;;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAmE,IAAAC,WAAA,GAAAD,OAAA;AAAA,SAAAD,wBAAAG,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAL,uBAAA,YAAAA,wBAAAG,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,QAAAC,OAAA,EAAAV,CAAA,iBAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,cAAAM,EAAA,IAAAd,CAAA,gBAAAc,EAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,EAAA,OAAAP,CAAA,IAAAD,CAAA,GAAAW,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAnB,CAAA,EAAAc,EAAA,OAAAP,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAM,EAAA,EAAAP,CAAA,IAAAC,CAAA,CAAAM,EAAA,IAAAd,CAAA,CAAAc,EAAA,WAAAN,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAAA,SAAAmB,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC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","ignoreList":[]}