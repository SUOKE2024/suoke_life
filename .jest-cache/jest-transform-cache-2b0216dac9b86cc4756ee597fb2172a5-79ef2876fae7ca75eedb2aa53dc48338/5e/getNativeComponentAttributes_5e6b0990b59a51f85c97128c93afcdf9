be67d862e61c5e60b576b590ceaed537
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _processBoxShadow = _interopRequireDefault(require("../StyleSheet/processBoxShadow"));
var ReactNativeStyleAttributes = require('../Components/View/ReactNativeStyleAttributes').default;
var resolveAssetSource = require('../Image/resolveAssetSource').default;
var processBackgroundImage = require('../StyleSheet/processBackgroundImage').default;
var processColor = require('../StyleSheet/processColor').default;
var processColorArray = require('../StyleSheet/processColorArray').default;
var processFilter = require('../StyleSheet/processFilter').default;
var insetsDiffer = require('../Utilities/differ/insetsDiffer').default;
var matricesDiffer = require('../Utilities/differ/matricesDiffer').default;
var pointsDiffer = require('../Utilities/differ/pointsDiffer').default;
var sizesDiffer = require('../Utilities/differ/sizesDiffer').default;
var UIManager = require('./UIManager').default;
var nullthrows = require('nullthrows');
function getNativeComponentAttributes(uiViewClassName) {
  var viewConfig = UIManager.getViewManagerConfig(uiViewClassName);
  if (viewConfig == null) {
    return null;
  }
  var baseModuleName = viewConfig.baseModuleName,
    bubblingEventTypes = viewConfig.bubblingEventTypes,
    directEventTypes = viewConfig.directEventTypes;
  var nativeProps = viewConfig.NativeProps;
  bubblingEventTypes = bubblingEventTypes != null ? bubblingEventTypes : {};
  directEventTypes = directEventTypes != null ? directEventTypes : {};
  while (baseModuleName) {
    var baseModule = UIManager.getViewManagerConfig(baseModuleName);
    if (!baseModule) {
      baseModuleName = null;
    } else {
      bubblingEventTypes = Object.assign({}, baseModule.bubblingEventTypes, bubblingEventTypes);
      directEventTypes = Object.assign({}, baseModule.directEventTypes, directEventTypes);
      nativeProps = Object.assign({}, baseModule.NativeProps, nativeProps);
      baseModuleName = baseModule.baseModuleName;
    }
  }
  var validAttributes = {};
  for (var key in nativeProps) {
    var typeName = nativeProps[key];
    var diff = getDifferForType(typeName);
    var process = getProcessorForType(typeName);
    validAttributes[key] = diff == null ? process == null ? true : {
      process: process
    } : process == null ? {
      diff: diff
    } : {
      diff: diff,
      process: process
    };
  }
  validAttributes.style = ReactNativeStyleAttributes;
  Object.assign(viewConfig, {
    uiViewClassName: uiViewClassName,
    validAttributes: validAttributes,
    bubblingEventTypes: bubblingEventTypes,
    directEventTypes: directEventTypes
  });
  attachDefaultEventTypes(viewConfig);
  return viewConfig;
}
function attachDefaultEventTypes(viewConfig) {
  var constants = UIManager.getConstants();
  if (constants.ViewManagerNames || constants.LazyViewManagersEnabled) {
    viewConfig = merge(viewConfig, nullthrows(UIManager.getDefaultEventTypes)());
  } else {
    viewConfig.bubblingEventTypes = merge(viewConfig.bubblingEventTypes, constants.genericBubblingEventTypes);
    viewConfig.directEventTypes = merge(viewConfig.directEventTypes, constants.genericDirectEventTypes);
  }
}
function merge(destination, source) {
  if (!source) {
    return destination;
  }
  if (!destination) {
    return source;
  }
  for (var key in source) {
    if (!source.hasOwnProperty(key)) {
      continue;
    }
    var sourceValue = source[key];
    if (destination.hasOwnProperty(key)) {
      var destinationValue = destination[key];
      if (typeof sourceValue === 'object' && typeof destinationValue === 'object') {
        sourceValue = merge(destinationValue, sourceValue);
      }
    }
    destination[key] = sourceValue;
  }
  return destination;
}
function getDifferForType(typeName) {
  switch (typeName) {
    case 'CATransform3D':
      return matricesDiffer;
    case 'CGPoint':
      return pointsDiffer;
    case 'CGSize':
      return sizesDiffer;
    case 'UIEdgeInsets':
      return insetsDiffer;
    case 'Point':
      return pointsDiffer;
    case 'EdgeInsets':
      return insetsDiffer;
  }
  return null;
}
function getProcessorForType(typeName) {
  switch (typeName) {
    case 'CGColor':
    case 'UIColor':
      return processColor;
    case 'CGColorArray':
    case 'UIColorArray':
      return processColorArray;
    case 'CGImage':
    case 'UIImage':
    case 'RCTImageSource':
      return resolveAssetSource;
    case 'BoxShadowArray':
      return _processBoxShadow.default;
    case 'FilterArray':
      return processFilter;
    case 'Color':
      return processColor;
    case 'ColorArray':
      return processColorArray;
    case 'Filter':
      return processFilter;
    case 'BackgroundImage':
      return processBackgroundImage;
    case 'ImageSource':
      return resolveAssetSource;
    case 'BoxShadow':
      return _processBoxShadow.default;
  }
  return null;
}
var _default = exports.default = getNativeComponentAttributes;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsIl9wcm9jZXNzQm94U2hhZG93IiwiUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXMiLCJyZXNvbHZlQXNzZXRTb3VyY2UiLCJwcm9jZXNzQmFja2dyb3VuZEltYWdlIiwicHJvY2Vzc0NvbG9yIiwicHJvY2Vzc0NvbG9yQXJyYXkiLCJwcm9jZXNzRmlsdGVyIiwiaW5zZXRzRGlmZmVyIiwibWF0cmljZXNEaWZmZXIiLCJwb2ludHNEaWZmZXIiLCJzaXplc0RpZmZlciIsIlVJTWFuYWdlciIsIm51bGx0aHJvd3MiLCJnZXROYXRpdmVDb21wb25lbnRBdHRyaWJ1dGVzIiwidWlWaWV3Q2xhc3NOYW1lIiwidmlld0NvbmZpZyIsImdldFZpZXdNYW5hZ2VyQ29uZmlnIiwiYmFzZU1vZHVsZU5hbWUiLCJidWJibGluZ0V2ZW50VHlwZXMiLCJkaXJlY3RFdmVudFR5cGVzIiwibmF0aXZlUHJvcHMiLCJOYXRpdmVQcm9wcyIsImJhc2VNb2R1bGUiLCJhc3NpZ24iLCJ2YWxpZEF0dHJpYnV0ZXMiLCJrZXkiLCJ0eXBlTmFtZSIsImRpZmYiLCJnZXREaWZmZXJGb3JUeXBlIiwicHJvY2VzcyIsImdldFByb2Nlc3NvckZvclR5cGUiLCJzdHlsZSIsImF0dGFjaERlZmF1bHRFdmVudFR5cGVzIiwiY29uc3RhbnRzIiwiZ2V0Q29uc3RhbnRzIiwiVmlld01hbmFnZXJOYW1lcyIsIkxhenlWaWV3TWFuYWdlcnNFbmFibGVkIiwibWVyZ2UiLCJnZXREZWZhdWx0RXZlbnRUeXBlcyIsImdlbmVyaWNCdWJibGluZ0V2ZW50VHlwZXMiLCJnZW5lcmljRGlyZWN0RXZlbnRUeXBlcyIsImRlc3RpbmF0aW9uIiwic291cmNlIiwiaGFzT3duUHJvcGVydHkiLCJzb3VyY2VWYWx1ZSIsImRlc3RpbmF0aW9uVmFsdWUiLCJwcm9jZXNzQm94U2hhZG93IiwiX2RlZmF1bHQiXSwic291cmNlcyI6WyJnZXROYXRpdmVDb21wb25lbnRBdHRyaWJ1dGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHByb2Nlc3NCb3hTaGFkb3cgZnJvbSAnLi4vU3R5bGVTaGVldC9wcm9jZXNzQm94U2hhZG93JztcblxuY29uc3QgUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXMgPVxuICByZXF1aXJlKCcuLi9Db21wb25lbnRzL1ZpZXcvUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXMnKS5kZWZhdWx0O1xuY29uc3QgcmVzb2x2ZUFzc2V0U291cmNlID0gcmVxdWlyZSgnLi4vSW1hZ2UvcmVzb2x2ZUFzc2V0U291cmNlJykuZGVmYXVsdDtcbmNvbnN0IHByb2Nlc3NCYWNrZ3JvdW5kSW1hZ2UgPVxuICByZXF1aXJlKCcuLi9TdHlsZVNoZWV0L3Byb2Nlc3NCYWNrZ3JvdW5kSW1hZ2UnKS5kZWZhdWx0O1xuY29uc3QgcHJvY2Vzc0NvbG9yID0gcmVxdWlyZSgnLi4vU3R5bGVTaGVldC9wcm9jZXNzQ29sb3InKS5kZWZhdWx0O1xuY29uc3QgcHJvY2Vzc0NvbG9yQXJyYXkgPSByZXF1aXJlKCcuLi9TdHlsZVNoZWV0L3Byb2Nlc3NDb2xvckFycmF5JykuZGVmYXVsdDtcbmNvbnN0IHByb2Nlc3NGaWx0ZXIgPSByZXF1aXJlKCcuLi9TdHlsZVNoZWV0L3Byb2Nlc3NGaWx0ZXInKS5kZWZhdWx0O1xuY29uc3QgaW5zZXRzRGlmZmVyID0gcmVxdWlyZSgnLi4vVXRpbGl0aWVzL2RpZmZlci9pbnNldHNEaWZmZXInKS5kZWZhdWx0O1xuY29uc3QgbWF0cmljZXNEaWZmZXIgPSByZXF1aXJlKCcuLi9VdGlsaXRpZXMvZGlmZmVyL21hdHJpY2VzRGlmZmVyJykuZGVmYXVsdDtcbmNvbnN0IHBvaW50c0RpZmZlciA9IHJlcXVpcmUoJy4uL1V0aWxpdGllcy9kaWZmZXIvcG9pbnRzRGlmZmVyJykuZGVmYXVsdDtcbmNvbnN0IHNpemVzRGlmZmVyID0gcmVxdWlyZSgnLi4vVXRpbGl0aWVzL2RpZmZlci9zaXplc0RpZmZlcicpLmRlZmF1bHQ7XG5jb25zdCBVSU1hbmFnZXIgPSByZXF1aXJlKCcuL1VJTWFuYWdlcicpLmRlZmF1bHQ7XG5jb25zdCBudWxsdGhyb3dzID0gcmVxdWlyZSgnbnVsbHRocm93cycpO1xuXG5mdW5jdGlvbiBnZXROYXRpdmVDb21wb25lbnRBdHRyaWJ1dGVzKHVpVmlld0NsYXNzTmFtZTogc3RyaW5nKTogYW55IHtcbiAgY29uc3Qgdmlld0NvbmZpZyA9IFVJTWFuYWdlci5nZXRWaWV3TWFuYWdlckNvbmZpZyh1aVZpZXdDbGFzc05hbWUpO1xuXG4gIGlmICh2aWV3Q29uZmlnID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIFRPRE86IFRoaXMgc2VlbXMgbGlrZSBhIHdob2xlIGxvdCBvZiBydW50aW1lIGluaXRpYWxpemF0aW9uIGZvciBldmVyeVxuICAvLyBuYXRpdmUgY29tcG9uZW50IHRoYXQgY2FuIGJlIGVpdGhlciBhdm9pZGVkIG9yIHNpbXBsaWZpZWQuXG4gIGxldCB7YmFzZU1vZHVsZU5hbWUsIGJ1YmJsaW5nRXZlbnRUeXBlcywgZGlyZWN0RXZlbnRUeXBlc30gPSB2aWV3Q29uZmlnO1xuICBsZXQgbmF0aXZlUHJvcHMgPSB2aWV3Q29uZmlnLk5hdGl2ZVByb3BzO1xuXG4gIGJ1YmJsaW5nRXZlbnRUeXBlcyA9IGJ1YmJsaW5nRXZlbnRUeXBlcyA/PyB7fTtcbiAgZGlyZWN0RXZlbnRUeXBlcyA9IGRpcmVjdEV2ZW50VHlwZXMgPz8ge307XG5cbiAgd2hpbGUgKGJhc2VNb2R1bGVOYW1lKSB7XG4gICAgY29uc3QgYmFzZU1vZHVsZSA9IFVJTWFuYWdlci5nZXRWaWV3TWFuYWdlckNvbmZpZyhiYXNlTW9kdWxlTmFtZSk7XG4gICAgaWYgKCFiYXNlTW9kdWxlKSB7XG4gICAgICBiYXNlTW9kdWxlTmFtZSA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1YmJsaW5nRXZlbnRUeXBlcyA9IHtcbiAgICAgICAgLi4uYmFzZU1vZHVsZS5idWJibGluZ0V2ZW50VHlwZXMsXG4gICAgICAgIC4uLmJ1YmJsaW5nRXZlbnRUeXBlcyxcbiAgICAgIH07XG4gICAgICBkaXJlY3RFdmVudFR5cGVzID0ge1xuICAgICAgICAuLi5iYXNlTW9kdWxlLmRpcmVjdEV2ZW50VHlwZXMsXG4gICAgICAgIC4uLmRpcmVjdEV2ZW50VHlwZXMsXG4gICAgICB9O1xuICAgICAgbmF0aXZlUHJvcHMgPSB7XG4gICAgICAgIC4uLmJhc2VNb2R1bGUuTmF0aXZlUHJvcHMsXG4gICAgICAgIC4uLm5hdGl2ZVByb3BzLFxuICAgICAgfTtcbiAgICAgIGJhc2VNb2R1bGVOYW1lID0gYmFzZU1vZHVsZS5iYXNlTW9kdWxlTmFtZTtcbiAgICB9XG4gIH1cblxuICBjb25zdCB2YWxpZEF0dHJpYnV0ZXM6IHtbc3RyaW5nXTogbWl4ZWR9ID0ge307XG5cbiAgZm9yIChjb25zdCBrZXkgaW4gbmF0aXZlUHJvcHMpIHtcbiAgICBjb25zdCB0eXBlTmFtZSA9IG5hdGl2ZVByb3BzW2tleV07XG4gICAgY29uc3QgZGlmZiA9IGdldERpZmZlckZvclR5cGUodHlwZU5hbWUpO1xuICAgIGNvbnN0IHByb2Nlc3MgPSBnZXRQcm9jZXNzb3JGb3JUeXBlKHR5cGVOYW1lKTtcblxuICAgIC8vIElmIGRpZmYgb3IgcHJvY2VzcyA9PSBudWxsLCBvbWl0IHRoZSBjb3JyZXNwb25kaW5nIHByb3BlcnR5IGZyb20gdGhlIEF0dHJpYnV0ZVxuICAgIC8vIFdoeTpcbiAgICAvLyAgMS4gQ29uc2lzdGVuY3kgd2l0aCBBdHRyaWJ1dGVUeXBlIGZsb3cgdHlwZVxuICAgIC8vICAyLiBDb25zaXN0ZW5jeSB3aXRoIFN0YXRpYyBWaWV3IENvbmZpZ3MsIHdoaWNoIG9taXQgdGhlIG51bGwgcHJvcGVydGllc1xuICAgIHZhbGlkQXR0cmlidXRlc1trZXldID1cbiAgICAgIGRpZmYgPT0gbnVsbFxuICAgICAgICA/IHByb2Nlc3MgPT0gbnVsbFxuICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgIDoge3Byb2Nlc3N9XG4gICAgICAgIDogcHJvY2VzcyA9PSBudWxsXG4gICAgICAgICAgPyB7ZGlmZn1cbiAgICAgICAgICA6IHtkaWZmLCBwcm9jZXNzfTtcbiAgfVxuXG4gIC8vIFVuZm9ydHVuYXRlbHksIHRoZSBjdXJyZW50IHNldHVwIGRlY2xhcmVzIHN0eWxlIHByb3BlcnRpZXMgYXMgdG9wLWxldmVsXG4gIC8vIHByb3BzLiBUaGlzIG1ha2VzIGl0IHNvIHdlIGFsbG93IHN0eWxlIHByb3BlcnRpZXMgaW4gdGhlIGBzdHlsZWAgcHJvcC5cbiAgLy8gVE9ETzogTW92ZSBzdHlsZSBwcm9wZXJ0aWVzIGludG8gYSBgc3R5bGVgIHByb3AgYW5kIGRpc2FsbG93IHRoZW0gYXNcbiAgLy8gdG9wLWxldmVsIHByb3BzIG9uIHRoZSBuYXRpdmUgc2lkZS5cbiAgdmFsaWRBdHRyaWJ1dGVzLnN0eWxlID0gUmVhY3ROYXRpdmVTdHlsZUF0dHJpYnV0ZXM7XG5cbiAgT2JqZWN0LmFzc2lnbih2aWV3Q29uZmlnLCB7XG4gICAgdWlWaWV3Q2xhc3NOYW1lLFxuICAgIHZhbGlkQXR0cmlidXRlcyxcbiAgICBidWJibGluZ0V2ZW50VHlwZXMsXG4gICAgZGlyZWN0RXZlbnRUeXBlcyxcbiAgfSk7XG5cbiAgYXR0YWNoRGVmYXVsdEV2ZW50VHlwZXModmlld0NvbmZpZyk7XG5cbiAgcmV0dXJuIHZpZXdDb25maWc7XG59XG5cbmZ1bmN0aW9uIGF0dGFjaERlZmF1bHRFdmVudFR5cGVzKHZpZXdDb25maWc6IGFueSkge1xuICAvLyBUaGlzIGlzIHN1cHBvcnRlZCBvbiBVSU1hbmFnZXIgcGxhdGZvcm1zIChleDogQW5kcm9pZCksXG4gIC8vIGFzIGxhenkgdmlldyBtYW5hZ2VycyBhcmUgbm90IGltcGxlbWVudGVkIGZvciBhbGwgcGxhdGZvcm1zLlxuICAvLyBTZWUgW1VJTWFuYWdlcl0gZm9yIGRldGFpbHMgb24gY29uc3RhbnRzIGFuZCBpbXBsZW1lbnRhdGlvbnMuXG4gIGNvbnN0IGNvbnN0YW50cyA9IFVJTWFuYWdlci5nZXRDb25zdGFudHMoKTtcbiAgaWYgKGNvbnN0YW50cy5WaWV3TWFuYWdlck5hbWVzIHx8IGNvbnN0YW50cy5MYXp5Vmlld01hbmFnZXJzRW5hYmxlZCkge1xuICAgIC8vIExhenkgdmlldyBtYW5hZ2VycyBlbmFibGVkLlxuICAgIHZpZXdDb25maWcgPSBtZXJnZShcbiAgICAgIHZpZXdDb25maWcsXG4gICAgICBudWxsdGhyb3dzKFVJTWFuYWdlci5nZXREZWZhdWx0RXZlbnRUeXBlcykoKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHZpZXdDb25maWcuYnViYmxpbmdFdmVudFR5cGVzID0gbWVyZ2UoXG4gICAgICB2aWV3Q29uZmlnLmJ1YmJsaW5nRXZlbnRUeXBlcyxcbiAgICAgIGNvbnN0YW50cy5nZW5lcmljQnViYmxpbmdFdmVudFR5cGVzLFxuICAgICk7XG4gICAgdmlld0NvbmZpZy5kaXJlY3RFdmVudFR5cGVzID0gbWVyZ2UoXG4gICAgICB2aWV3Q29uZmlnLmRpcmVjdEV2ZW50VHlwZXMsXG4gICAgICBjb25zdGFudHMuZ2VuZXJpY0RpcmVjdEV2ZW50VHlwZXMsXG4gICAgKTtcbiAgfVxufVxuXG4vLyBUT0RPOiBGaWd1cmUgb3V0IGhvdyB0byBhdm9pZCBhbGwgdGhpcyBydW50aW1lIGluaXRpYWxpemF0aW9uIGNvc3QuXG5mdW5jdGlvbiBtZXJnZShkZXN0aW5hdGlvbjogP09iamVjdCwgc291cmNlOiA/T2JqZWN0KTogP09iamVjdCB7XG4gIGlmICghc291cmNlKSB7XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICB9XG4gIGlmICghZGVzdGluYXRpb24pIHtcbiAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XG4gICAgaWYgKCFzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgbGV0IHNvdXJjZVZhbHVlID0gc291cmNlW2tleV07XG4gICAgaWYgKGRlc3RpbmF0aW9uLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGNvbnN0IGRlc3RpbmF0aW9uVmFsdWUgPSBkZXN0aW5hdGlvbltrZXldO1xuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2Ygc291cmNlVmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cGVvZiBkZXN0aW5hdGlvblZhbHVlID09PSAnb2JqZWN0J1xuICAgICAgKSB7XG4gICAgICAgIHNvdXJjZVZhbHVlID0gbWVyZ2UoZGVzdGluYXRpb25WYWx1ZSwgc291cmNlVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBkZXN0aW5hdGlvbltrZXldID0gc291cmNlVmFsdWU7XG4gIH1cbiAgcmV0dXJuIGRlc3RpbmF0aW9uO1xufVxuXG5mdW5jdGlvbiBnZXREaWZmZXJGb3JUeXBlKFxuICB0eXBlTmFtZTogc3RyaW5nLFxuKTogPyhwcmV2UHJvcDogYW55LCBuZXh0UHJvcDogYW55KSA9PiBib29sZWFuIHtcbiAgc3dpdGNoICh0eXBlTmFtZSkge1xuICAgIC8vIGlPUyBUeXBlc1xuICAgIGNhc2UgJ0NBVHJhbnNmb3JtM0QnOlxuICAgICAgcmV0dXJuIG1hdHJpY2VzRGlmZmVyO1xuICAgIGNhc2UgJ0NHUG9pbnQnOlxuICAgICAgcmV0dXJuIHBvaW50c0RpZmZlcjtcbiAgICBjYXNlICdDR1NpemUnOlxuICAgICAgcmV0dXJuIHNpemVzRGlmZmVyO1xuICAgIGNhc2UgJ1VJRWRnZUluc2V0cyc6XG4gICAgICByZXR1cm4gaW5zZXRzRGlmZmVyO1xuICAgIC8vIEFuZHJvaWQgVHlwZXNcbiAgICBjYXNlICdQb2ludCc6XG4gICAgICByZXR1cm4gcG9pbnRzRGlmZmVyO1xuICAgIGNhc2UgJ0VkZ2VJbnNldHMnOlxuICAgICAgcmV0dXJuIGluc2V0c0RpZmZlcjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvY2Vzc29yRm9yVHlwZSh0eXBlTmFtZTogc3RyaW5nKTogPyhuZXh0UHJvcDogYW55KSA9PiBhbnkge1xuICBzd2l0Y2ggKHR5cGVOYW1lKSB7XG4gICAgLy8gaU9TIFR5cGVzXG4gICAgY2FzZSAnQ0dDb2xvcic6XG4gICAgY2FzZSAnVUlDb2xvcic6XG4gICAgICByZXR1cm4gcHJvY2Vzc0NvbG9yO1xuICAgIGNhc2UgJ0NHQ29sb3JBcnJheSc6XG4gICAgY2FzZSAnVUlDb2xvckFycmF5JzpcbiAgICAgIHJldHVybiBwcm9jZXNzQ29sb3JBcnJheTtcbiAgICBjYXNlICdDR0ltYWdlJzpcbiAgICBjYXNlICdVSUltYWdlJzpcbiAgICBjYXNlICdSQ1RJbWFnZVNvdXJjZSc6XG4gICAgICByZXR1cm4gcmVzb2x2ZUFzc2V0U291cmNlO1xuICAgIGNhc2UgJ0JveFNoYWRvd0FycmF5JzpcbiAgICAgIHJldHVybiBwcm9jZXNzQm94U2hhZG93O1xuICAgIGNhc2UgJ0ZpbHRlckFycmF5JzpcbiAgICAgIHJldHVybiBwcm9jZXNzRmlsdGVyO1xuICAgIC8vIEFuZHJvaWQgVHlwZXNcbiAgICBjYXNlICdDb2xvcic6XG4gICAgICByZXR1cm4gcHJvY2Vzc0NvbG9yO1xuICAgIGNhc2UgJ0NvbG9yQXJyYXknOlxuICAgICAgcmV0dXJuIHByb2Nlc3NDb2xvckFycmF5O1xuICAgIGNhc2UgJ0ZpbHRlcic6XG4gICAgICByZXR1cm4gcHJvY2Vzc0ZpbHRlcjtcbiAgICBjYXNlICdCYWNrZ3JvdW5kSW1hZ2UnOlxuICAgICAgcmV0dXJuIHByb2Nlc3NCYWNrZ3JvdW5kSW1hZ2U7XG4gICAgY2FzZSAnSW1hZ2VTb3VyY2UnOlxuICAgICAgcmV0dXJuIHJlc29sdmVBc3NldFNvdXJjZTtcbiAgICBjYXNlICdCb3hTaGFkb3cnOlxuICAgICAgcmV0dXJuIHByb2Nlc3NCb3hTaGFkb3c7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldE5hdGl2ZUNvbXBvbmVudEF0dHJpYnV0ZXM7XG4iXSwibWFwcGluZ3MiOiJBQVVBLFlBQVk7O0FBQUMsSUFBQUEsc0JBQUEsR0FBQUMsT0FBQTtBQUFBQyxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQUQsT0FBQSxDQUFBRSxPQUFBO0FBRWIsSUFBQUMsaUJBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQU1PLDBCQUEwQixHQUM5QlAsT0FBTyxDQUFDLCtDQUErQyxDQUFDLENBQUNLLE9BQU87QUFDbEUsSUFBTUcsa0JBQWtCLEdBQUdSLE9BQU8sQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDSyxPQUFPO0FBQ3pFLElBQU1JLHNCQUFzQixHQUMxQlQsT0FBTyxDQUFDLHNDQUFzQyxDQUFDLENBQUNLLE9BQU87QUFDekQsSUFBTUssWUFBWSxHQUFHVixPQUFPLENBQUMsNEJBQTRCLENBQUMsQ0FBQ0ssT0FBTztBQUNsRSxJQUFNTSxpQkFBaUIsR0FBR1gsT0FBTyxDQUFDLGlDQUFpQyxDQUFDLENBQUNLLE9BQU87QUFDNUUsSUFBTU8sYUFBYSxHQUFHWixPQUFPLENBQUMsNkJBQTZCLENBQUMsQ0FBQ0ssT0FBTztBQUNwRSxJQUFNUSxZQUFZLEdBQUdiLE9BQU8sQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDSyxPQUFPO0FBQ3hFLElBQU1TLGNBQWMsR0FBR2QsT0FBTyxDQUFDLG9DQUFvQyxDQUFDLENBQUNLLE9BQU87QUFDNUUsSUFBTVUsWUFBWSxHQUFHZixPQUFPLENBQUMsa0NBQWtDLENBQUMsQ0FBQ0ssT0FBTztBQUN4RSxJQUFNVyxXQUFXLEdBQUdoQixPQUFPLENBQUMsaUNBQWlDLENBQUMsQ0FBQ0ssT0FBTztBQUN0RSxJQUFNWSxTQUFTLEdBQUdqQixPQUFPLENBQUMsYUFBYSxDQUFDLENBQUNLLE9BQU87QUFDaEQsSUFBTWEsVUFBVSxHQUFHbEIsT0FBTyxDQUFDLFlBQVksQ0FBQztBQUV4QyxTQUFTbUIsNEJBQTRCQSxDQUFDQyxlQUF1QixFQUFPO0VBQ2xFLElBQU1DLFVBQVUsR0FBR0osU0FBUyxDQUFDSyxvQkFBb0IsQ0FBQ0YsZUFBZSxDQUFDO0VBRWxFLElBQUlDLFVBQVUsSUFBSSxJQUFJLEVBQUU7SUFDdEIsT0FBTyxJQUFJO0VBQ2I7RUFJQSxJQUFLRSxjQUFjLEdBQTBDRixVQUFVLENBQWxFRSxjQUFjO0lBQUVDLGtCQUFrQixHQUFzQkgsVUFBVSxDQUFsREcsa0JBQWtCO0lBQUVDLGdCQUFnQixHQUFJSixVQUFVLENBQTlCSSxnQkFBZ0I7RUFDekQsSUFBSUMsV0FBVyxHQUFHTCxVQUFVLENBQUNNLFdBQVc7RUFFeENILGtCQUFrQixHQUFHQSxrQkFBa0IsV0FBbEJBLGtCQUFrQixHQUFJLENBQUMsQ0FBQztFQUM3Q0MsZ0JBQWdCLEdBQUdBLGdCQUFnQixXQUFoQkEsZ0JBQWdCLEdBQUksQ0FBQyxDQUFDO0VBRXpDLE9BQU9GLGNBQWMsRUFBRTtJQUNyQixJQUFNSyxVQUFVLEdBQUdYLFNBQVMsQ0FBQ0ssb0JBQW9CLENBQUNDLGNBQWMsQ0FBQztJQUNqRSxJQUFJLENBQUNLLFVBQVUsRUFBRTtNQUNmTCxjQUFjLEdBQUcsSUFBSTtJQUN2QixDQUFDLE1BQU07TUFDTEMsa0JBQWtCLEdBQUF2QixNQUFBLENBQUE0QixNQUFBLEtBQ2JELFVBQVUsQ0FBQ0osa0JBQWtCLEVBQzdCQSxrQkFBa0IsQ0FDdEI7TUFDREMsZ0JBQWdCLEdBQUF4QixNQUFBLENBQUE0QixNQUFBLEtBQ1hELFVBQVUsQ0FBQ0gsZ0JBQWdCLEVBQzNCQSxnQkFBZ0IsQ0FDcEI7TUFDREMsV0FBVyxHQUFBekIsTUFBQSxDQUFBNEIsTUFBQSxLQUNORCxVQUFVLENBQUNELFdBQVcsRUFDdEJELFdBQVcsQ0FDZjtNQUNESCxjQUFjLEdBQUdLLFVBQVUsQ0FBQ0wsY0FBYztJQUM1QztFQUNGO0VBRUEsSUFBTU8sZUFBa0MsR0FBRyxDQUFDLENBQUM7RUFFN0MsS0FBSyxJQUFNQyxHQUFHLElBQUlMLFdBQVcsRUFBRTtJQUM3QixJQUFNTSxRQUFRLEdBQUdOLFdBQVcsQ0FBQ0ssR0FBRyxDQUFDO0lBQ2pDLElBQU1FLElBQUksR0FBR0MsZ0JBQWdCLENBQUNGLFFBQVEsQ0FBQztJQUN2QyxJQUFNRyxPQUFPLEdBQUdDLG1CQUFtQixDQUFDSixRQUFRLENBQUM7SUFNN0NGLGVBQWUsQ0FBQ0MsR0FBRyxDQUFDLEdBQ2xCRSxJQUFJLElBQUksSUFBSSxHQUNSRSxPQUFPLElBQUksSUFBSSxHQUNiLElBQUksR0FDSjtNQUFDQSxPQUFPLEVBQVBBO0lBQU8sQ0FBQyxHQUNYQSxPQUFPLElBQUksSUFBSSxHQUNiO01BQUNGLElBQUksRUFBSkE7SUFBSSxDQUFDLEdBQ047TUFBQ0EsSUFBSSxFQUFKQSxJQUFJO01BQUVFLE9BQU8sRUFBUEE7SUFBTyxDQUFDO0VBQ3pCO0VBTUFMLGVBQWUsQ0FBQ08sS0FBSyxHQUFHOUIsMEJBQTBCO0VBRWxETixNQUFNLENBQUM0QixNQUFNLENBQUNSLFVBQVUsRUFBRTtJQUN4QkQsZUFBZSxFQUFmQSxlQUFlO0lBQ2ZVLGVBQWUsRUFBZkEsZUFBZTtJQUNmTixrQkFBa0IsRUFBbEJBLGtCQUFrQjtJQUNsQkMsZ0JBQWdCLEVBQWhCQTtFQUNGLENBQUMsQ0FBQztFQUVGYSx1QkFBdUIsQ0FBQ2pCLFVBQVUsQ0FBQztFQUVuQyxPQUFPQSxVQUFVO0FBQ25CO0FBRUEsU0FBU2lCLHVCQUF1QkEsQ0FBQ2pCLFVBQWUsRUFBRTtFQUloRCxJQUFNa0IsU0FBUyxHQUFHdEIsU0FBUyxDQUFDdUIsWUFBWSxDQUFDLENBQUM7RUFDMUMsSUFBSUQsU0FBUyxDQUFDRSxnQkFBZ0IsSUFBSUYsU0FBUyxDQUFDRyx1QkFBdUIsRUFBRTtJQUVuRXJCLFVBQVUsR0FBR3NCLEtBQUssQ0FDaEJ0QixVQUFVLEVBQ1ZILFVBQVUsQ0FBQ0QsU0FBUyxDQUFDMkIsb0JBQW9CLENBQUMsQ0FBQyxDQUM3QyxDQUFDO0VBQ0gsQ0FBQyxNQUFNO0lBQ0x2QixVQUFVLENBQUNHLGtCQUFrQixHQUFHbUIsS0FBSyxDQUNuQ3RCLFVBQVUsQ0FBQ0csa0JBQWtCLEVBQzdCZSxTQUFTLENBQUNNLHlCQUNaLENBQUM7SUFDRHhCLFVBQVUsQ0FBQ0ksZ0JBQWdCLEdBQUdrQixLQUFLLENBQ2pDdEIsVUFBVSxDQUFDSSxnQkFBZ0IsRUFDM0JjLFNBQVMsQ0FBQ08sdUJBQ1osQ0FBQztFQUNIO0FBQ0Y7QUFHQSxTQUFTSCxLQUFLQSxDQUFDSSxXQUFvQixFQUFFQyxNQUFlLEVBQVc7RUFDN0QsSUFBSSxDQUFDQSxNQUFNLEVBQUU7SUFDWCxPQUFPRCxXQUFXO0VBQ3BCO0VBQ0EsSUFBSSxDQUFDQSxXQUFXLEVBQUU7SUFDaEIsT0FBT0MsTUFBTTtFQUNmO0VBRUEsS0FBSyxJQUFNakIsR0FBRyxJQUFJaUIsTUFBTSxFQUFFO0lBQ3hCLElBQUksQ0FBQ0EsTUFBTSxDQUFDQyxjQUFjLENBQUNsQixHQUFHLENBQUMsRUFBRTtNQUMvQjtJQUNGO0lBRUEsSUFBSW1CLFdBQVcsR0FBR0YsTUFBTSxDQUFDakIsR0FBRyxDQUFDO0lBQzdCLElBQUlnQixXQUFXLENBQUNFLGNBQWMsQ0FBQ2xCLEdBQUcsQ0FBQyxFQUFFO01BQ25DLElBQU1vQixnQkFBZ0IsR0FBR0osV0FBVyxDQUFDaEIsR0FBRyxDQUFDO01BQ3pDLElBQ0UsT0FBT21CLFdBQVcsS0FBSyxRQUFRLElBQy9CLE9BQU9DLGdCQUFnQixLQUFLLFFBQVEsRUFDcEM7UUFDQUQsV0FBVyxHQUFHUCxLQUFLLENBQUNRLGdCQUFnQixFQUFFRCxXQUFXLENBQUM7TUFDcEQ7SUFDRjtJQUNBSCxXQUFXLENBQUNoQixHQUFHLENBQUMsR0FBR21CLFdBQVc7RUFDaEM7RUFDQSxPQUFPSCxXQUFXO0FBQ3BCO0FBRUEsU0FBU2IsZ0JBQWdCQSxDQUN2QkYsUUFBZ0IsRUFDNEI7RUFDNUMsUUFBUUEsUUFBUTtJQUVkLEtBQUssZUFBZTtNQUNsQixPQUFPbEIsY0FBYztJQUN2QixLQUFLLFNBQVM7TUFDWixPQUFPQyxZQUFZO0lBQ3JCLEtBQUssUUFBUTtNQUNYLE9BQU9DLFdBQVc7SUFDcEIsS0FBSyxjQUFjO01BQ2pCLE9BQU9ILFlBQVk7SUFFckIsS0FBSyxPQUFPO01BQ1YsT0FBT0UsWUFBWTtJQUNyQixLQUFLLFlBQVk7TUFDZixPQUFPRixZQUFZO0VBQ3ZCO0VBQ0EsT0FBTyxJQUFJO0FBQ2I7QUFFQSxTQUFTdUIsbUJBQW1CQSxDQUFDSixRQUFnQixFQUEyQjtFQUN0RSxRQUFRQSxRQUFRO0lBRWQsS0FBSyxTQUFTO0lBQ2QsS0FBSyxTQUFTO01BQ1osT0FBT3RCLFlBQVk7SUFDckIsS0FBSyxjQUFjO0lBQ25CLEtBQUssY0FBYztNQUNqQixPQUFPQyxpQkFBaUI7SUFDMUIsS0FBSyxTQUFTO0lBQ2QsS0FBSyxTQUFTO0lBQ2QsS0FBSyxnQkFBZ0I7TUFDbkIsT0FBT0gsa0JBQWtCO0lBQzNCLEtBQUssZ0JBQWdCO01BQ25CLE9BQU80Qyx5QkFBZ0I7SUFDekIsS0FBSyxhQUFhO01BQ2hCLE9BQU94QyxhQUFhO0lBRXRCLEtBQUssT0FBTztNQUNWLE9BQU9GLFlBQVk7SUFDckIsS0FBSyxZQUFZO01BQ2YsT0FBT0MsaUJBQWlCO0lBQzFCLEtBQUssUUFBUTtNQUNYLE9BQU9DLGFBQWE7SUFDdEIsS0FBSyxpQkFBaUI7TUFDcEIsT0FBT0gsc0JBQXNCO0lBQy9CLEtBQUssYUFBYTtNQUNoQixPQUFPRCxrQkFBa0I7SUFDM0IsS0FBSyxXQUFXO01BQ2QsT0FBTzRDLHlCQUFnQjtFQUMzQjtFQUNBLE9BQU8sSUFBSTtBQUNiO0FBQUMsSUFBQUMsUUFBQSxHQUFBbEQsT0FBQSxDQUFBRSxPQUFBLEdBRWNjLDRCQUE0QiIsImlnbm9yZUxpc3QiOltdfQ==