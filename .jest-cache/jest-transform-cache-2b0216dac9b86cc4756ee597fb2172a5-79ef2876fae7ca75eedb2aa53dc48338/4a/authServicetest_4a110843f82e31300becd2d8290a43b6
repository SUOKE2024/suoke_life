50123efa8a8e38f680720a1931f0db62
_getJestObj().mock('../../services/apiClient', function () {
  return {
    apiClient: {
      post: jest.fn(),
      get: jest.fn(),
      put: jest.fn(),
      delete: jest.fn()
    }
  };
});
_getJestObj().mock('../../utils/authUtils', function () {
  return {
    storeAuthTokens: jest.fn(),
    clearAuthTokens: jest.fn(),
    getAuthToken: jest.fn(),
    getRefreshToken: jest.fn(),
    getDeviceId: jest.fn().mockResolvedValue('mock-device-id')
  };
});
_getJestObj().mock('react-native', function () {
  return {
    Alert: {
      alert: jest.fn()
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _authService = _interopRequireDefault(require("../../services/authService"));
var _apiClient = require("../../services/apiClient");
function _getJestObj() {
  var _require2 = require("@jest/globals"),
    jest = _require2.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockApiClient = _apiClient.apiClient;
describe('AuthService', function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  describe('登录功能', function () {
    it('应该成功登录用户', (0, _asyncToGenerator2.default)(function* () {
      var mockLoginResponse = {
        user: {
          id: 'user123',
          email: 'test@example.com',
          username: '测试用户'
        },
        accessToken: 'mock-access-token',
        refreshToken: 'mock-refresh-token',
        expiresIn: 3600
      };
      mockApiClient.post.mockResolvedValue({
        success: true,
        data: mockLoginResponse,
        timestamp: Date.now()
      });
      var result = yield _authService.default.login({
        email: 'test@example.com',
        password: 'password123'
      });
      expect(result).toEqual(mockLoginResponse);
      expect(mockApiClient.post).toHaveBeenCalledWith('/auth/login', {
        email: 'test@example.com',
        password: 'password123',
        deviceId: 'mock-device-id'
      });
    }));
    it('应该处理登录失败', (0, _asyncToGenerator2.default)(function* () {
      mockApiClient.post.mockResolvedValue({
        success: false,
        error: {
          code: 'INVALID_CREDENTIALS',
          message: '用户名或密码错误'
        },
        timestamp: Date.now()
      });
      yield expect(_authService.default.login({
        email: 'test@example.com',
        password: 'wrongpassword'
      })).rejects.toThrow('用户名或密码错误');
    }));
  });
  describe('注册功能', function () {
    it('应该成功注册新用户', (0, _asyncToGenerator2.default)(function* () {
      var mockRegisterResponse = {
        user: {
          id: 'user123',
          email: 'newuser@example.com',
          username: '新用户'
        },
        accessToken: 'mock-access-token',
        refreshToken: 'mock-refresh-token',
        expiresIn: 3600
      };
      mockApiClient.post.mockResolvedValue({
        success: true,
        data: mockRegisterResponse,
        timestamp: Date.now()
      });
      var result = yield _authService.default.register({
        username: '新用户',
        email: 'newuser@example.com',
        password: 'password123'
      });
      expect(result).toEqual(mockRegisterResponse);
    }));
  });
  describe('令牌管理', function () {
    it('应该成功刷新令牌', (0, _asyncToGenerator2.default)(function* () {
      var mockRefreshResponse = {
        accessToken: 'new-access-token',
        refreshToken: 'new-refresh-token',
        expiresIn: 3600
      };
      var _require = require('../../utils/authUtils'),
        getRefreshToken = _require.getRefreshToken;
      getRefreshToken.mockResolvedValue('old-refresh-token');
      mockApiClient.post.mockResolvedValue({
        success: true,
        data: mockRefreshResponse,
        timestamp: Date.now()
      });
      var result = yield _authService.default.refreshAccessToken();
      expect(result).toEqual(mockRefreshResponse);
      expect(mockApiClient.post).toHaveBeenCalledWith('/auth/refresh', {
        refreshToken: 'old-refresh-token'
      });
    }));
  });
  describe('用户信息管理', function () {
    it('应该获取当前用户信息', (0, _asyncToGenerator2.default)(function* () {
      var mockUser = {
        id: 'user123',
        email: 'test@example.com',
        username: '测试用户'
      };
      mockApiClient.get.mockResolvedValue({
        success: true,
        data: mockUser,
        timestamp: Date.now()
      });
      var result = yield _authService.default.getCurrentUser();
      expect(result).toEqual(mockUser);
      expect(mockApiClient.get).toHaveBeenCalledWith('/auth/me');
    }));
  });
  describe('密码管理', function () {
    it('应该成功修改密码', (0, _asyncToGenerator2.default)(function* () {
      mockApiClient.post.mockResolvedValue({
        success: true,
        timestamp: Date.now()
      });
      yield expect(_authService.default.changePassword('oldPassword', 'newPassword')).resolves.not.toThrow();
      expect(mockApiClient.post).toHaveBeenCalledWith('/auth/change-password', {
        oldPassword: 'oldPassword',
        newPassword: 'newPassword'
      });
    }));
    it('应该成功重置密码', (0, _asyncToGenerator2.default)(function* () {
      mockApiClient.post.mockResolvedValue({
        success: true,
        timestamp: Date.now()
      });
      yield expect(_authService.default.resetPassword({
        email: 'test@example.com',
        code: '123456',
        newPassword: 'newPassword'
      })).resolves.not.toThrow();
    }));
  });
  describe('登出功能', function () {
    it('应该成功登出用户', (0, _asyncToGenerator2.default)(function* () {
      mockApiClient.post.mockResolvedValue({
        success: true,
        timestamp: Date.now()
      });
      yield expect(_authService.default.logout()).resolves.not.toThrow();
      expect(mockApiClient.post).toHaveBeenCalledWith('/auth/logout');
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJhcGlDbGllbnQiLCJwb3N0IiwiamVzdCIsImZuIiwiZ2V0IiwicHV0IiwiZGVsZXRlIiwic3RvcmVBdXRoVG9rZW5zIiwiY2xlYXJBdXRoVG9rZW5zIiwiZ2V0QXV0aFRva2VuIiwiZ2V0UmVmcmVzaFRva2VuIiwiZ2V0RGV2aWNlSWQiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsIkFsZXJ0IiwiYWxlcnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9hdXRoU2VydmljZSIsIl9hcGlDbGllbnQiLCJfcmVxdWlyZTIiLCJtb2NrQXBpQ2xpZW50IiwiZGVzY3JpYmUiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwiZGVmYXVsdCIsIm1vY2tMb2dpblJlc3BvbnNlIiwidXNlciIsImlkIiwiZW1haWwiLCJ1c2VybmFtZSIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwiZXhwaXJlc0luIiwic3VjY2VzcyIsImRhdGEiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93IiwicmVzdWx0IiwiYXV0aFNlcnZpY2UiLCJsb2dpbiIsInBhc3N3b3JkIiwiZXhwZWN0IiwidG9FcXVhbCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiZGV2aWNlSWQiLCJlcnJvciIsImNvZGUiLCJtZXNzYWdlIiwicmVqZWN0cyIsInRvVGhyb3ciLCJtb2NrUmVnaXN0ZXJSZXNwb25zZSIsInJlZ2lzdGVyIiwibW9ja1JlZnJlc2hSZXNwb25zZSIsIl9yZXF1aXJlIiwicmVmcmVzaEFjY2Vzc1Rva2VuIiwibW9ja1VzZXIiLCJnZXRDdXJyZW50VXNlciIsImNoYW5nZVBhc3N3b3JkIiwicmVzb2x2ZXMiLCJub3QiLCJvbGRQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwicmVzZXRQYXNzd29yZCIsImxvZ291dCJdLCJzb3VyY2VzIjpbImF1dGhTZXJ2aWNlLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWxlcnQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IGF1dGhTZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2VzL2F1dGhTZXJ2aWNlJztcblxuLy8gTW9jayBhcGlDbGllbnRcbmplc3QubW9jaygnLi4vLi4vc2VydmljZXMvYXBpQ2xpZW50JywgKCkgPT4gKHtcbiAgYXBpQ2xpZW50OiB7XG4gICAgcG9zdDogamVzdC5mbigpLFxuICAgIGdldDogamVzdC5mbigpLFxuICAgIHB1dDogamVzdC5mbigpLFxuICAgIGRlbGV0ZTogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG4vLyBNb2NrIGF1dGhVdGlsc1xuamVzdC5tb2NrKCcuLi8uLi91dGlscy9hdXRoVXRpbHMnLCAoKSA9PiAoe1xuICBzdG9yZUF1dGhUb2tlbnM6IGplc3QuZm4oKSxcbiAgY2xlYXJBdXRoVG9rZW5zOiBqZXN0LmZuKCksXG4gIGdldEF1dGhUb2tlbjogamVzdC5mbigpLFxuICBnZXRSZWZyZXNoVG9rZW46IGplc3QuZm4oKSxcbiAgZ2V0RGV2aWNlSWQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnbW9jay1kZXZpY2UtaWQnKSxcbn0pKTtcblxuLy8gTW9jayBBbGVydFxuamVzdC5tb2NrKCdyZWFjdC1uYXRpdmUnLCAoKSA9PiAoe1xuICBBbGVydDoge1xuICAgIGFsZXJ0OiBqZXN0LmZuKCksXG4gIH0sXG59KSk7XG5cbmltcG9ydCB7IGFwaUNsaWVudCB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FwaUNsaWVudCc7XG5cbmNvbnN0IG1vY2tBcGlDbGllbnQgPSBhcGlDbGllbnQgYXMgamVzdC5Nb2NrZWQ8dHlwZW9mIGFwaUNsaWVudD47XG5cbmRlc2NyaWJlKCdBdXRoU2VydmljZScsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfnmbvlvZXlip/og70nLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpeaIkOWKn+eZu+W9leeUqOaItycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tMb2dpblJlc3BvbnNlID0ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgaWQ6ICd1c2VyMTIzJyxcbiAgICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIHVzZXJuYW1lOiAn5rWL6K+V55So5oi3JyxcbiAgICAgICAgfSxcbiAgICAgICAgYWNjZXNzVG9rZW46ICdtb2NrLWFjY2Vzcy10b2tlbicsXG4gICAgICAgIHJlZnJlc2hUb2tlbjogJ21vY2stcmVmcmVzaC10b2tlbicsXG4gICAgICAgIGV4cGlyZXNJbjogMzYwMCxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tBcGlDbGllbnQucG9zdC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IG1vY2tMb2dpblJlc3BvbnNlLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXV0aFNlcnZpY2UubG9naW4oe1xuICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tMb2dpblJlc3BvbnNlKTtcbiAgICAgIGV4cGVjdChtb2NrQXBpQ2xpZW50LnBvc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXV0aC9sb2dpbicsIHtcbiAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycsXG4gICAgICAgIGRldmljZUlkOiAnbW9jay1kZXZpY2UtaWQnLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5aSE55CG55m75b2V5aSx6LSlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0FwaUNsaWVudC5wb3N0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogJ0lOVkFMSURfQ1JFREVOVElBTFMnLFxuICAgICAgICAgIG1lc3NhZ2U6ICfnlKjmiLflkI3miJblr4bnoIHplJnor68nLFxuICAgICAgICB9LFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGF1dGhTZXJ2aWNlLmxvZ2luKHtcbiAgICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICd3cm9uZ3Bhc3N3b3JkJyxcbiAgICAgIH0pKS5yZWplY3RzLnRvVGhyb3coJ+eUqOaIt+WQjeaIluWvhueggemUmeivrycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn5rOo5YaM5Yqf6IO9JywgKCkgPT4ge1xuICAgIGl0KCflupTor6XmiJDlip/ms6jlhozmlrDnlKjmiLcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrUmVnaXN0ZXJSZXNwb25zZSA9IHtcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIGlkOiAndXNlcjEyMycsXG4gICAgICAgICAgZW1haWw6ICduZXd1c2VyQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICB1c2VybmFtZTogJ+aWsOeUqOaItycsXG4gICAgICAgIH0sXG4gICAgICAgIGFjY2Vzc1Rva2VuOiAnbW9jay1hY2Nlc3MtdG9rZW4nLFxuICAgICAgICByZWZyZXNoVG9rZW46ICdtb2NrLXJlZnJlc2gtdG9rZW4nLFxuICAgICAgICBleHBpcmVzSW46IDM2MDAsXG4gICAgICB9O1xuXG4gICAgICBtb2NrQXBpQ2xpZW50LnBvc3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrUmVnaXN0ZXJSZXNwb25zZSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF1dGhTZXJ2aWNlLnJlZ2lzdGVyKHtcbiAgICAgICAgdXNlcm5hbWU6ICfmlrDnlKjmiLcnLFxuICAgICAgICBlbWFpbDogJ25ld3VzZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkMTIzJyxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tSZWdpc3RlclJlc3BvbnNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+S7pOeJjOeuoeeQhicsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5oiQ5Yqf5Yi35paw5Luk54mMJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja1JlZnJlc2hSZXNwb25zZSA9IHtcbiAgICAgICAgYWNjZXNzVG9rZW46ICduZXctYWNjZXNzLXRva2VuJyxcbiAgICAgICAgcmVmcmVzaFRva2VuOiAnbmV3LXJlZnJlc2gtdG9rZW4nLFxuICAgICAgICBleHBpcmVzSW46IDM2MDAsXG4gICAgICB9O1xuXG4gICAgICAvLyBNb2NrIGdldFJlZnJlc2hUb2tlblxuICAgICAgY29uc3QgeyBnZXRSZWZyZXNoVG9rZW4gfSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL2F1dGhVdGlscycpO1xuICAgICAgZ2V0UmVmcmVzaFRva2VuLm1vY2tSZXNvbHZlZFZhbHVlKCdvbGQtcmVmcmVzaC10b2tlbicpO1xuXG4gICAgICBtb2NrQXBpQ2xpZW50LnBvc3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrUmVmcmVzaFJlc3BvbnNlLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXV0aFNlcnZpY2UucmVmcmVzaEFjY2Vzc1Rva2VuKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1JlZnJlc2hSZXNwb25zZSk7XG4gICAgICBleHBlY3QobW9ja0FwaUNsaWVudC5wb3N0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2F1dGgvcmVmcmVzaCcsIHtcbiAgICAgICAgcmVmcmVzaFRva2VuOiAnb2xkLXJlZnJlc2gtdG9rZW4nLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfnlKjmiLfkv6Hmga/nrqHnkIYnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpeiOt+WPluW9k+WJjeeUqOaIt+S/oeaBrycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tVc2VyID0ge1xuICAgICAgICBpZDogJ3VzZXIxMjMnLFxuICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICB1c2VybmFtZTogJ+a1i+ivleeUqOaItycsXG4gICAgICB9O1xuXG4gICAgICBtb2NrQXBpQ2xpZW50LmdldC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IG1vY2tVc2VyLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXV0aFNlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrVXNlcik7XG4gICAgICBleHBlY3QobW9ja0FwaUNsaWVudC5nZXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXV0aC9tZScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn5a+G56CB566h55CGJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XmiJDlip/kv67mlLnlr4bnoIEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXBpQ2xpZW50LnBvc3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGF1dGhTZXJ2aWNlLmNoYW5nZVBhc3N3b3JkKCdvbGRQYXNzd29yZCcsICduZXdQYXNzd29yZCcpKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpO1xuXG4gICAgICBleHBlY3QobW9ja0FwaUNsaWVudC5wb3N0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2F1dGgvY2hhbmdlLXBhc3N3b3JkJywge1xuICAgICAgICBvbGRQYXNzd29yZDogJ29sZFBhc3N3b3JkJyxcbiAgICAgICAgbmV3UGFzc3dvcmQ6ICduZXdQYXNzd29yZCcsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCflupTor6XmiJDlip/ph43nva7lr4bnoIEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrQXBpQ2xpZW50LnBvc3QubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGF1dGhTZXJ2aWNlLnJlc2V0UGFzc3dvcmQoe1xuICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICBjb2RlOiAnMTIzNDU2JyxcbiAgICAgICAgbmV3UGFzc3dvcmQ6ICduZXdQYXNzd29yZCcsXG4gICAgICB9KSkucmVzb2x2ZXMubm90LnRvVGhyb3coKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+eZu+WHuuWKn+iDvScsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5oiQ5Yqf55m75Ye655So5oi3JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0FwaUNsaWVudC5wb3N0Lm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChhdXRoU2VydmljZS5sb2dvdXQoKSkucmVzb2x2ZXMubm90LnRvVGhyb3coKTtcblxuICAgICAgZXhwZWN0KG1vY2tBcGlDbGllbnQucG9zdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hdXRoL2xvZ291dCcpO1xuICAgIH0pO1xuICB9KTtcbn0pOyAiXSwibWFwcGluZ3MiOiJBQUlBQSxXQUFBLEdBQUtDLElBQUksQ0FBQywwQkFBMEIsRUFBRTtFQUFBLE9BQU87SUFDM0NDLFNBQVMsRUFBRTtNQUNUQyxJQUFJLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7TUFDZkMsR0FBRyxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO01BQ2RFLEdBQUcsRUFBRUgsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztNQUNkRyxNQUFNLEVBQUVKLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0lBQ2xCO0VBQ0YsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUdITCxXQUFBLEdBQUtDLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtFQUFBLE9BQU87SUFDeENRLGVBQWUsRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUMxQkssZUFBZSxFQUFFTixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQzFCTSxZQUFZLEVBQUVQLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDdkJPLGVBQWUsRUFBRVIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUMxQlEsV0FBVyxFQUFFVCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNTLGlCQUFpQixDQUFDLGdCQUFnQjtFQUMzRCxDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBR0hkLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGNBQWMsRUFBRTtFQUFBLE9BQU87SUFDL0JjLEtBQUssRUFBRTtNQUNMQyxLQUFLLEVBQUVaLElBQUksQ0FBQ0Ms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bkN1QixPQUFPLEVBQUUsSUFBSTtRQUNiRSxTQUFTLEVBQUVDLElBQUksQ0FBQ0MsR0FBRyxDQUFDO01BQ3RCLENBQUMsQ0FBQztNQUVGLE1BQU1LLE1BQU0sQ0FBQ0gsb0JBQVcsQ0FBQ21CLGNBQWMsQ0FBQyxhQUFhLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDQyxHQUFHLENBQUNWLE9BQU8sQ0FBQyxDQUFDO01BRTdGUixNQUFNLENBQUN2QixhQUFhLENBQUNwQixJQUFJLENBQUMsQ0FBQzZDLG9CQUFvQixDQUFDLHVCQUF1QixFQUFFO1FBQ3ZFaUIsV0FBVyxFQUFFLGFBQWE7UUFDMUJDLFdBQVcsRUFBRTtNQUNmLENBQUMsQ0FBQztJQUNKLENBQUMsRUFBQztJQUVGdkMsRUFBRSxDQUFDLFVBQVUsTUFBQVIsa0JBQUEsQ0FBQVMsT0FBQSxFQUFFLGFBQVk7TUFDekJMLGFBQWEsQ0FBQ3BCLElBQUksQ0FBQ1csaUJBQWlCLENBQUM7UUFDbkN1QixPQUFPLEVBQUUsSUFBSTtRQUNiRSxTQUFTLEVBQUVDLElBQUksQ0FBQ0MsR0FBRyxDQUFDO01BQ3RCLENBQUMsQ0FBQztNQUVGLE1BQU1LLE1BQU0sQ0FBQ0gsb0JBQVcsQ0FBQ3dCLGFBQWEsQ0FBQztRQUNyQ25DLEtBQUssRUFBRSxrQkFBa0I7UUFDekJtQixJQUFJLEVBQUUsUUFBUTtRQUNkZSxXQUFXLEVBQUU7TUFDZixDQUFDLENBQUMsQ0FBQyxDQUFDSCxRQUFRLENBQUNDLEdBQUcsQ0FBQ1YsT0FBTyxDQUFDLENBQUM7SUFDNUIsQ0FBQyxFQUFDO0VBQ0osQ0FBQyxDQUFDO0VBRUY5QixRQUFRLENBQUMsTUFBTSxFQUFFLFlBQU07SUFDckJHLEVBQUUsQ0FBQyxVQUFVLE1BQUFSLGtCQUFBLENBQUFTLE9BQUEsRUFBRSxhQUFZO01BQ3pCTCxhQUFhLENBQUNwQixJQUFJLENBQUNXLGlCQUFpQixDQUFDO1FBQ25DdUIsT0FBTyxFQUFFLElBQUk7UUFDYkUsU0FBUyxFQUFFQyxJQUFJLENBQUNDLEdBQUcsQ0FBQztNQUN0QixDQUFDLENBQUM7TUFFRixNQUFNSyxNQUFNLENBQUNILG9CQUFXLENBQUN5QixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUNMLFFBQVEsQ0FBQ0MsR0FBRyxDQUFDVixPQUFPLENBQUMsQ0FBQztNQUV6RFIsTUFBTSxDQUFDdkIsYUFBYSxDQUFDcEIsSUFBSSxDQUFDLENBQUM2QyxvQkFBb0IsQ0FBQyxjQUFjLENBQUM7SUFDakUsQ0FBQyxFQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119