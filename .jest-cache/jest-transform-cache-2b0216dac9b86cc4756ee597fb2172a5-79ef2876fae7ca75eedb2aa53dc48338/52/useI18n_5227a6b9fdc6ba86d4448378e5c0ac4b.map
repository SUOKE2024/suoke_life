{"version":3,"names":["_react","require","_reactRedux","_uiSlice","_i18n","cov_2coejb7uj0","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","_coverageSchema","coverage","actualCoverage","useI18n","exports","dispatch","useDispatch","language","useSelector","state","ui","_ref","useState","_ref2","_slicedToArray2","default","isChanging","setIsChanging","switchLanguage","_ref3","_asyncToGenerator2","newLanguage","changeLanguage","setLanguage","error","console","warn","_x","apply","arguments","translate","key","options","t","currentLanguage","getCurrentLanguage","_default"],"sources":["useI18n.ts"],"sourcesContent":["/**\n * 国际化Hook\n */\n\nimport { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setLanguage } from '../store/slices/uiSlice';\nimport { t, changeLanguage, getCurrentLanguage } from '../i18n';\nimport { RootState } from '../types';\n\nexport const useI18n = () => {\n  const dispatch = useDispatch();\n  const language = useSelector((state: RootState) => state.ui.language);\n  const [isChanging, setIsChanging] = useState(false);\n\n  /**\n   * 切换语言\n   */\n  const switchLanguage = async (newLanguage: 'zh' | 'en') => {\n    if (newLanguage === language || isChanging) {\n      return;\n    }\n\n    setIsChanging(true);\n    try {\n      await changeLanguage(newLanguage);\n      dispatch(setLanguage(newLanguage));\n    } catch (error) {\n      console.warn('切换语言失败:', error);\n    } finally {\n      setIsChanging(false);\n    }\n  };\n\n  /**\n   * 翻译函数\n   */\n  const translate = (key: string, options?: object): string => {\n    return t(key, options);\n  };\n\n  /**\n   * 获取当前语言\n   */\n  const currentLanguage = getCurrentLanguage();\n\n  return {\n    language: currentLanguage,\n    switchLanguage,\n    translate,\n    t: translate,\n    isChanging,\n  };\n};\n\nexport default useI18n;\n"],"mappings":"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","ignoreList":[]}