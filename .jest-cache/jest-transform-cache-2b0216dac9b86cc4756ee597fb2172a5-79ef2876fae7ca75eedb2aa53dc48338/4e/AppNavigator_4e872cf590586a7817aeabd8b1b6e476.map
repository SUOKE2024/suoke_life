{"version":3,"names":["_react","_interopRequireWildcard","require","_stack","_reactRedux","_MainNavigator","_authSlice","_reactNative","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","cov_1i9d7slutm","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","s","b","_coverageSchema","coverage","actualCoverage","SimpleSplashScreen","jsxs","View","style","styles","splashContainer","children","jsx","Text","splashTitle","splashSubtitle","ActivityIndicator","size","color","loading","Stack","createStackNavigator","AppNavigator","exports","dispatch","useDispatch","isAuthenticated","useSelector","selectIsAuthenticated","_ref","useState","_ref2","_slicedToArray2","isInitializing","setIsInitializing","useEffect","initializeApp","_ref3","_asyncToGenerator2","checkAuthStatus","error","console","log","apply","arguments","timer","setTimeout","clearTimeout","Navigator","screenOptions","headerShown","gestureEnabled","Screen","component","MainNavigator","StyleSheet","create","flex","justifyContent","alignItems","backgroundColor","fontSize","fontWeight","marginBottom","marginTop"],"sources":["AppNavigator.tsx"],"sourcesContent":["/**\n * 应用主导航器\n * 负责管理应用的整体导航流程，包括认证状态检查和路由分发\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { useSelector, useDispatch } from 'react-redux';\n\n// 导航器\nimport { AuthNavigator } from './AuthNavigator';\nimport { MainNavigator } from './MainNavigator';\n\n// Redux\nimport {\n  selectIsAuthenticated,\n  // selectAuthLoading,\n  checkAuthStatus,\n} from '../store/slices/authSlice';\n\n// 简单的启动屏幕组件\nimport { View, Text, ActivityIndicator, StyleSheet } from 'react-native';\n\nconst SimpleSplashScreen: React.FC = () => (\n  <View style={styles.splashContainer}>\n    <Text style={styles.splashTitle}>索克生活</Text>\n    <Text style={styles.splashSubtitle}>Suoke Life</Text>\n    <ActivityIndicator size=\"large\" color=\"#007AFF\" style={styles.loading} />\n  </View>\n);\n\n// 类型\nexport type AppStackParamList = {\n  Splash: undefined;\n  Auth: undefined;\n  Main: undefined;\n};\n\nconst Stack = createStackNavigator<AppStackParamList>();\n\nexport const AppNavigator: React.FC = () => {\n  const dispatch = useDispatch();\n  const isAuthenticated = useSelector(selectIsAuthenticated);\n  // const isLoading = useSelector(selectAuthLoading);\n  const [isInitializing, setIsInitializing] = useState(true);\n\n  // 检查认证状态\n  useEffect(() => {\n    const initializeApp = async () => {\n      try {\n        await dispatch(checkAuthStatus() as any);\n      } catch (error) {\n        console.log('认证检查失败:', error);\n      } finally {\n        setIsInitializing(false);\n      }\n    };\n\n    const timer = setTimeout(() => {\n      initializeApp();\n    }, 1500); // 1.5秒启动屏幕\n\n    return () => clearTimeout(timer);\n  }, [dispatch]);\n\n  return (\n    <Stack.Navigator\n      screenOptions={{\n        headerShown: false,\n        gestureEnabled: false,\n      }}\n    >\n      {isInitializing ? (\n        // 初始化状态\n        <Stack.Screen name=\"Splash\" component={SimpleSplashScreen} />\n      ) : (\n        // 直接进入主应用（跳过认证）\n        <Stack.Screen name=\"Main\" component={MainNavigator} />\n      )}\n    </Stack.Navigator>\n  );\n};\n\nconst styles = StyleSheet.create({\n  splashContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#007AFF',\n  },\n  splashTitle: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    color: 'white',\n    marginBottom: 8,\n  },\n  splashSubtitle: {\n    fontSize: 16,\n    color: 'white',\n    marginBottom: 40,\n  },\n  loading: {\n    marginTop: 20,\n  },\n});\n"],"mappings":";;;;;;;AAKA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,WAAA,GAAAF,OAAA;AAIA,IAAAG,cAAA,GAAAH,OAAA;AAGA,IAAAI,UAAA,GAAAJ,OAAA;AAOA,IAAAK,YAAA,GAAAL,OAAA;AAAyE,IAAAM,WAAA,GAAAN,OAAA;AAAA,SAAAD,wBAAAQ,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAV,uBAAA,YAAAA,wBAAAQ,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,QAAAC,OAAA,EAAAV,CAAA,iBAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,cAAAM,EAAA,IAAAd,CAAA,gBAAAc,EAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,EAAA,OAAAP,CAAA,IAAAD,CAAA,GAAAW,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAnB,CAAA,EAAAc,EAAA,OAAAP,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAM,EAAA,EAAAP,CAAA,IAAAC,CAAA,CAAAM,EAAA,IAAAd,CAAA,CAAAc,EAAA,WAAAN,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAAA,SAAAmB,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC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","ignoreList":[]}