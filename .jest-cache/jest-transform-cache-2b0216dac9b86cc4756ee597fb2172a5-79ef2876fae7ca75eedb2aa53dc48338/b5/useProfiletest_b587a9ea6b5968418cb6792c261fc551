364c222e9ce87a1fea71660aeea395af
_getJestObj().mock('react-native', function () {
  return {
    Alert: {
      alert: jest.fn()
    }
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _useProfile = require("../../hooks/useProfile");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
var mockAlert = _reactNative2.Alert.alert;
describe('useProfile', function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  it('应该初始化默认状态', function () {
    var _renderHook = (0, _reactNative.renderHook)(function () {
        return (0, _useProfile.useProfile)();
      }),
      result = _renderHook.result;
    expect(result.current.userProfile).toBeDefined();
    expect(result.current.agentInteractions).toHaveLength(4);
    expect(result.current.achievements).toBeDefined();
    expect(result.current.benefits).toBeDefined();
    expect(result.current.activeTab).toBe('agents');
    expect(result.current.loading).toBe(false);
  });
  it('应该正确切换活动标签', function () {
    var _renderHook2 = (0, _reactNative.renderHook)(function () {
        return (0, _useProfile.useProfile)();
      }),
      result = _renderHook2.result;
    (0, _reactNative.act)(function () {
      result.current.setActiveTab('achievements');
    });
    expect(result.current.activeTab).toBe('achievements');
    (0, _reactNative.act)(function () {
      result.current.setActiveTab('benefits');
    });
    expect(result.current.activeTab).toBe('benefits');
  });
  it('应该正确处理与智能体聊天', function () {
    var _renderHook3 = (0, _reactNative.renderHook)(function () {
        return (0, _useProfile.useProfile)();
      }),
      result = _renderHook3.result;
    var agent = result.current.agentInteractions[0];
    (0, _reactNative.act)(function () {
      result.current.chatWithAgent(agent);
    });
    expect(mockAlert).toHaveBeenCalledWith(`与${agent.agentName}聊天`, expect.stringContaining(agent.agentName), expect.any(Array));
  });
  it('应该正确查看成就详情', function () {
    var _renderHook4 = (0, _reactNative.renderHook)(function () {
        return (0, _useProfile.useProfile)();
      }),
      result = _renderHook4.result;
    var achievement = result.current.achievements[0];
    (0, _reactNative.act)(function () {
      result.current.viewAchievement(achievement);
    });
    expect(mockAlert).toHaveBeenCalledWith(achievement.title, expect.stringContaining(achievement.description), expect.any(Array));
  });
  it('应该正确使用会员特权', function () {
    var _renderHook5 = (0, _reactNative.renderHook)(function () {
        return (0, _useProfile.useProfile)();
      }),
      result = _renderHook5.result;
    var benefit = result.current.benefits[0];
    (0, _reactNative.act)(function () {
      result.current.useBenefit(benefit);
    });
    expect(mockAlert).toHaveBeenCalled();
  });
  it('应该正确处理设置项点击', function () {
    var _renderHook6 = (0, _reactNative.renderHook)(function () {
        return (0, _useProfile.useProfile)();
      }),
      result = _renderHook6.result;
    (0, _reactNative.act)(function () {
      result.current.handleSettingPress('logout');
    });
    expect(mockAlert).toHaveBeenCalledWith('退出登录', '确定要退出登录吗？', expect.any(Array));
  });
  it('应该正确更新用户资料', (0, _asyncToGenerator2.default)(function* () {
    var _renderHook7 = (0, _reactNative.renderHook)(function () {
        return (0, _useProfile.useProfile)();
      }),
      result = _renderHook7.result;
    var updates = {
      name: '新用户名'
    };
    yield (0, _reactNative.act)((0, _asyncToGenerator2.default)(function* () {
      yield result.current.updateProfile(updates);
    }));
    expect(result.current.userProfile.name).toBe('新用户名');
    expect(mockAlert).toHaveBeenCalledWith('更新成功', '个人资料已更新');
  }));
  it('应该正确获取健康分数颜色', function () {
    var _renderHook8 = (0, _reactNative.renderHook)(function () {
        return (0, _useProfile.useProfile)();
      }),
      result = _renderHook8.result;
    expect(result.current.getHealthScoreColor(90)).toBe('#34C759');
    expect(result.current.getHealthScoreColor(70)).toBe('#FF9500');
    expect(result.current.getHealthScoreColor(50)).toBe('#FF3B30');
  });
  it('应该正确获取会员等级文本', function () {
    var _renderHook9 = (0, _reactNative.renderHook)(function () {
        return (0, _useProfile.useProfile)();
      }),
      result = _renderHook9.result;
    expect(result.current.getMemberLevelText('gold')).toBe('黄金会员');
    expect(result.current.getMemberLevelText('silver')).toBe('白银会员');
    expect(result.current.getMemberLevelText('unknown')).toBe('普通会员');
  });
  it('应该正确计算统计数据', function () {
    var _renderHook0 = (0, _reactNative.renderHook)(function () {
        return (0, _useProfile.useProfile)();
      }),
      result = _renderHook0.result;
    expect(result.current.stats.totalAchievements).toBeGreaterThan(0);
    expect(result.current.stats.unlockedAchievements).toBeGreaterThanOrEqual(0);
    expect(result.current.stats.achievementProgress).toBeGreaterThanOrEqual(0);
    expect(result.current.stats.availableBenefits).toBeGreaterThanOrEqual(0);
  });
  it('应该正确过滤成就', function () {
    var _renderHook1 = (0, _reactNative.renderHook)(function () {
        return (0, _useProfile.useProfile)();
      }),
      result = _renderHook1.result;
    var unlockedAchievements = result.current.filterAchievements(undefined, true);
    expect(unlockedAchievements.every(function (a) {
      return a.unlocked;
    })).toBe(true);
    var lockedAchievements = result.current.filterAchievements(undefined, false);
    expect(lockedAchievements.every(function (a) {
      return !a.unlocked;
    })).toBe(true);
    var healthAchievements = result.current.filterAchievements('health');
    expect(healthAchievements.every(function (a) {
      return a.category === 'health';
    })).toBe(true);
  });
  it('应该正确获取推荐操作', function () {
    var _renderHook10 = (0, _reactNative.renderHook)(function () {
        return (0, _useProfile.useProfile)();
      }),
      result = _renderHook10.result;
    var recommendations = result.current.getRecommendedActions();
    expect(Array.isArray(recommendations)).toBe(true);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJBbGVydCIsImFsZXJ0IiwiamVzdCIsImZuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3ROYXRpdmUyIiwiX3VzZVByb2ZpbGUiLCJfcmVxdWlyZSIsIm1vY2tBbGVydCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsIl9yZW5kZXJIb29rIiwicmVuZGVySG9vayIsInVzZVByb2ZpbGUiLCJyZXN1bHQiLCJleHBlY3QiLCJjdXJyZW50IiwidXNlclByb2ZpbGUiLCJ0b0JlRGVmaW5lZCIsImFnZW50SW50ZXJhY3Rpb25zIiwidG9IYXZlTGVuZ3RoIiwiYWNoaWV2ZW1lbnRzIiwiYmVuZWZpdHMiLCJhY3RpdmVUYWIiLCJ0b0JlIiwibG9hZGluZyIsIl9yZW5kZXJIb29rMiIsImFjdCIsInNldEFjdGl2ZVRhYiIsIl9yZW5kZXJIb29rMyIsImFnZW50IiwiY2hhdFdpdGhBZ2VudCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiYWdlbnROYW1lIiwic3RyaW5nQ29udGFpbmluZyIsImFueSIsIkFycmF5IiwiX3JlbmRlckhvb2s0IiwiYWNoaWV2ZW1lbnQiLCJ2aWV3QWNoaWV2ZW1lbnQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiX3JlbmRlckhvb2s1IiwiYmVuZWZpdCIsInVzZUJlbmVmaXQiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiX3JlbmRlckhvb2s2IiwiaGFuZGxlU2V0dGluZ1ByZXNzIiwiZGVmYXVsdCIsIl9yZW5kZXJIb29rNyIsInVwZGF0ZXMiLCJuYW1lIiwidXBkYXRlUHJvZmlsZSIsIl9yZW5kZXJIb29rOCIsImdldEhlYWx0aFNjb3JlQ29sb3IiLCJfcmVuZGVySG9vazkiLCJnZXRNZW1iZXJMZXZlbFRleHQiLCJfcmVuZGVySG9vazAiLCJzdGF0cyIsInRvdGFsQWNoaWV2ZW1lbnRzIiwidG9CZUdyZWF0ZXJUaGFuIiwidW5sb2NrZWRBY2hpZXZlbWVudHMiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwiYWNoaWV2ZW1lbnRQcm9ncmVzcyIsImF2YWlsYWJsZUJlbmVmaXRzIiwiX3JlbmRlckhvb2sxIiwiZmlsdGVyQWNoaWV2ZW1lbnRzIiwidW5kZWZpbmVkIiwiZXZlcnkiLCJhIiwidW5sb2NrZWQiLCJsb2NrZWRBY2hpZXZlbWVudHMiLCJoZWFsdGhBY2hpZXZlbWVudHMiLCJjYXRlZ29yeSIsIl9yZW5kZXJIb29rMTAiLCJyZWNvbW1lbmRhdGlvbnMiLCJnZXRSZWNvbW1lbmRlZEFjdGlvbnMiLCJpc0FycmF5Il0sInNvdXJjZXMiOlsidXNlUHJvZmlsZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IEFsZXJ0IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCB7IHVzZVByb2ZpbGUgfSBmcm9tICcuLi8uLi9ob29rcy91c2VQcm9maWxlJztcbmltcG9ydCB7IEhlYWx0aEFjaGlldmVtZW50IH0gZnJvbSAnLi4vLi4vdHlwZXMvcHJvZmlsZSc7XG5cbi8vIE1vY2sgQWxlcnRcbmplc3QubW9jaygncmVhY3QtbmF0aXZlJywgKCkgPT4gKHtcbiAgQWxlcnQ6IHtcbiAgICBhbGVydDogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG5jb25zdCBtb2NrQWxlcnQgPSBBbGVydC5hbGVydCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBBbGVydC5hbGVydD47XG5cbmRlc2NyaWJlKCd1c2VQcm9maWxlJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWIneWni+WMlum7mOiupOeKtuaAgScsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VQcm9maWxlKCkpO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnVzZXJQcm9maWxlKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5hZ2VudEludGVyYWN0aW9ucykudG9IYXZlTGVuZ3RoKDQpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5hY2hpZXZlbWVudHMpLnRvQmVEZWZpbmVkKCk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmJlbmVmaXRzKS50b0JlRGVmaW5lZCgpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5hY3RpdmVUYWIpLnRvQmUoJ2FnZW50cycpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sb2FkaW5nKS50b0JlKGZhbHNlKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeato+ehruWIh+aNoua0u+WKqOagh+etvicsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VQcm9maWxlKCkpO1xuXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LnNldEFjdGl2ZVRhYignYWNoaWV2ZW1lbnRzJyk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuYWN0aXZlVGFiKS50b0JlKCdhY2hpZXZlbWVudHMnKTtcblxuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5zZXRBY3RpdmVUYWIoJ2JlbmVmaXRzJyk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuYWN0aXZlVGFiKS50b0JlKCdiZW5lZml0cycpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5q2j56Gu5aSE55CG5LiO5pm66IO95L2T6IGK5aSpJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVByb2ZpbGUoKSk7XG4gICAgY29uc3QgYWdlbnQgPSByZXN1bHQuY3VycmVudC5hZ2VudEludGVyYWN0aW9uc1swXTtcblxuICAgIGFjdCgoKSA9PiB7XG4gICAgICByZXN1bHQuY3VycmVudC5jaGF0V2l0aEFnZW50KGFnZW50KTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChtb2NrQWxlcnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgYOS4jiR7YWdlbnQuYWdlbnROYW1lfeiBiuWkqWAsXG4gICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZyhhZ2VudC5hZ2VudE5hbWUpLFxuICAgICAgZXhwZWN0LmFueShBcnJheSlcbiAgICApO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5q2j56Gu5p+l55yL5oiQ5bCx6K+m5oOFJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZVByb2ZpbGUoKSk7XG4gICAgY29uc3QgYWNoaWV2ZW1lbnQgPSByZXN1bHQuY3VycmVudC5hY2hpZXZlbWVudHNbMF07XG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQudmlld0FjaGlldmVtZW50KGFjaGlldmVtZW50KTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChtb2NrQWxlcnQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgYWNoaWV2ZW1lbnQudGl0bGUsXG4gICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZyhhY2hpZXZlbWVudC5kZXNjcmlwdGlvbiksXG4gICAgICBleHBlY3QuYW55KEFycmF5KVxuICAgICk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmraPnoa7kvb/nlKjkvJrlkZjnibnmnYMnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUHJvZmlsZSgpKTtcbiAgICBjb25zdCBiZW5lZml0ID0gcmVzdWx0LmN1cnJlbnQuYmVuZWZpdHNbMF07XG5cbiAgICBhY3QoKCkgPT4ge1xuICAgICAgcmVzdWx0LmN1cnJlbnQudXNlQmVuZWZpdChiZW5lZml0KTtcbiAgICB9KTtcblxuICAgIGV4cGVjdChtb2NrQWxlcnQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeato+ehruWkhOeQhuiuvue9rumhueeCueWHuycsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VQcm9maWxlKCkpO1xuXG4gICAgLy8g5rWL6K+V6YCA5Ye655m75b2VXG4gICAgYWN0KCgpID0+IHtcbiAgICAgIHJlc3VsdC5jdXJyZW50LmhhbmRsZVNldHRpbmdQcmVzcygnbG9nb3V0Jyk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QobW9ja0FsZXJ0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICfpgIDlh7rnmbvlvZUnLFxuICAgICAgJ+ehruWumuimgemAgOWHuueZu+W9leWQl++8nycsXG4gICAgICBleHBlY3QuYW55KEFycmF5KVxuICAgICk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmraPnoa7mm7TmlrDnlKjmiLfotYTmlpknLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUHJvZmlsZSgpKTtcbiAgICBjb25zdCB1cGRhdGVzID0geyBuYW1lOiAn5paw55So5oi35ZCNJyB9O1xuXG4gICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LnVwZGF0ZVByb2ZpbGUodXBkYXRlcyk7XG4gICAgfSk7XG5cbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudXNlclByb2ZpbGUubmFtZSkudG9CZSgn5paw55So5oi35ZCNJyk7XG4gICAgZXhwZWN0KG1vY2tBbGVydCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ+abtOaWsOaIkOWKnycsICfkuKrkurrotYTmlpnlt7Lmm7TmlrAnKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeato+ehruiOt+WPluWBpeW6t+WIhuaVsOminOiJsicsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VQcm9maWxlKCkpO1xuXG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmdldEhlYWx0aFNjb3JlQ29sb3IoOTApKS50b0JlKCcjMzRDNzU5Jyk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmdldEhlYWx0aFNjb3JlQ29sb3IoNzApKS50b0JlKCcjRkY5NTAwJyk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmdldEhlYWx0aFNjb3JlQ29sb3IoNTApKS50b0JlKCcjRkYzQjMwJyk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmraPnoa7ojrflj5bkvJrlkZjnrYnnuqfmlofmnKwnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUHJvZmlsZSgpKTtcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5nZXRNZW1iZXJMZXZlbFRleHQoJ2dvbGQnKSkudG9CZSgn6buE6YeR5Lya5ZGYJyk7XG4gICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmdldE1lbWJlckxldmVsVGV4dCgnc2lsdmVyJykpLnRvQmUoJ+eZvemTtuS8muWRmCcpO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5nZXRNZW1iZXJMZXZlbFRleHQoJ3Vua25vd24nKSkudG9CZSgn5pmu6YCa5Lya5ZGYJyk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmraPnoa7orqHnrpfnu5/orqHmlbDmja4nLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUHJvZmlsZSgpKTtcblxuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdGF0cy50b3RhbEFjaGlldmVtZW50cykudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5zdGF0cy51bmxvY2tlZEFjaGlldmVtZW50cykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdHMuYWNoaWV2ZW1lbnRQcm9ncmVzcykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuc3RhdHMuYXZhaWxhYmxlQmVuZWZpdHMpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XmraPnoa7ov4fmu6TmiJDlsLEnLCAoKSA9PiB7XG4gICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlUHJvZmlsZSgpKTtcblxuICAgIC8vIOi/h+a7pOW3suino+mUgeeahOaIkOWwsVxuICAgIGNvbnN0IHVubG9ja2VkQWNoaWV2ZW1lbnRzID0gcmVzdWx0LmN1cnJlbnQuZmlsdGVyQWNoaWV2ZW1lbnRzKHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgZXhwZWN0KHVubG9ja2VkQWNoaWV2ZW1lbnRzLmV2ZXJ5KChhOiBIZWFsdGhBY2hpZXZlbWVudCkgPT4gYS51bmxvY2tlZCkpLnRvQmUodHJ1ZSk7XG5cbiAgICAvLyDov4fmu6TmnKrop6PplIHnmoTmiJDlsLFcbiAgICBjb25zdCBsb2NrZWRBY2hpZXZlbWVudHMgPSByZXN1bHQuY3VycmVudC5maWx0ZXJBY2hpZXZlbWVudHModW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgZXhwZWN0KGxvY2tlZEFjaGlldmVtZW50cy5ldmVyeSgoYTogSGVhbHRoQWNoaWV2ZW1lbnQpID0+ICFhLnVubG9ja2VkKSkudG9CZSh0cnVlKTtcblxuICAgIC8vIOaMieWIhuexu+i/h+a7pFxuICAgIGNvbnN0IGhlYWx0aEFjaGlldmVtZW50cyA9IHJlc3VsdC5jdXJyZW50LmZpbHRlckFjaGlldmVtZW50cygnaGVhbHRoJyk7XG4gICAgZXhwZWN0KGhlYWx0aEFjaGlldmVtZW50cy5ldmVyeSgoYTogSGVhbHRoQWNoaWV2ZW1lbnQpID0+IGEuY2F0ZWdvcnkgPT09ICdoZWFsdGgnKSkudG9CZSh0cnVlKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeato+ehruiOt+WPluaOqOiNkOaTjeS9nCcsICgpID0+IHtcbiAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VQcm9maWxlKCkpO1xuXG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gcmVzdWx0LmN1cnJlbnQuZ2V0UmVjb21tZW5kZWRBY3Rpb25zKCk7XG4gICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVjb21tZW5kYXRpb25zKSkudG9CZSh0cnVlKTtcbiAgfSk7XG59KTsgIl0sIm1hcHBpbmdzIjoiQUFNQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsY0FBYyxFQUFFO0VBQUEsT0FBTztJQUMvQkMsS0FBSyxFQUFFO01BQ0xDLEtBQUssRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUM7SUFDakI7RUFDRixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBQUMsSUFBQUMsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFWSixJQUFBRSxZQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxhQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxXQUFBLEdBQUFKLE9BQUE7QUFBb0QsU0FBQVAsWUFBQTtFQUFBLElBQUFZLFFBQUEsR0FBQUwsT0FBQTtJQUFBSCxJQUFBLEdBQUFRLFFBQUEsQ0FBQVIsSUFBQTtFQUFBSixXQUFBLFlBQUFBLFlBQUE7SUFBQSxPQUFBSSxJQUFBO0VBQUE7RUFBQSxPQUFBQSxJQUFBO0FBQUE7QUFVcEQsSUFBTVMsU0FBUyxHQUFHWCxtQkFBSyxDQUFDQyxLQUFnRDtBQUV4RVcsUUFBUSxDQUFDLFlBQVksRUFBRSxZQUFNO0VBQzNCQyxVQUFVLENBQUMsWUFBTTtJQUNmWCxJQUFJLENBQUNZLGFBQWEsQ0FBQyxDQUFDO0VBQ3RCLENBQUMsQ0FBQztFQUVGQyxFQUFFLENBQUMsV0FBVyxFQUFFLFlBQU07SUFDcEIsSUFBQUMsV0FBQSxHQUFtQixJQUFBQyx1QkFBVSxFQUFDO1FBQUEs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