d3eafa7579890b244838d4ffaea90e96
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactNative2 = require("react-native");
var _jsxRuntime = require("react/jsx-runtime");
var MockAgentChatScreen = function MockAgentChatScreen(_ref) {
  var route = _ref.route;
  var agentId = route.params.agentId;
  var _React$useState = _react.default.useState([{
      id: '1',
      text: `你好！我是${agentId}，很高兴为您服务！`,
      sender: 'agent',
      timestamp: new Date().toISOString()
    }]),
    _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),
    messages = _React$useState2[0],
    setMessages = _React$useState2[1];
  var _React$useState3 = _react.default.useState(''),
    _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),
    inputText = _React$useState4[0],
    setInputText = _React$useState4[1];
  var sendMessage = function sendMessage() {
    if (inputText.trim()) {
      var newMessage = {
        id: Date.now().toString(),
        text: inputText,
        sender: 'user',
        timestamp: new Date().toISOString()
      };
      setMessages(function (prev) {
        return [].concat((0, _toConsumableArray2.default)(prev), [newMessage]);
      });
      setInputText('');
      setTimeout(function () {
        var agentReply = {
          id: (Date.now() + 1).toString(),
          text: `我理解您说的"${inputText}"，让我为您提供帮助。`,
          sender: 'agent',
          timestamp: new Date().toISOString()
        };
        setMessages(function (prev) {
          return [].concat((0, _toConsumableArray2.default)(prev), [agentReply]);
        });
      }, 1000);
    }
  };
  return (0, _jsxRuntime.jsxs)(_reactNative2.View, {
    testID: "agent-chat-screen",
    children: [(0, _jsxRuntime.jsx)(_reactNative2.View, {
      testID: "chat-header",
      children: (0, _jsxRuntime.jsxs)(_reactNative2.Text, {
        children: ["\u4E0E", agentId, "\u5BF9\u8BDD"]
      })
    }), (0, _jsxRuntime.jsx)(_reactNative2.View, {
      testID: "message-list",
      children: messages.map(function (message) {
        return (0, _jsxRuntime.jsxs)(_reactNative2.View, {
          testID: `message-${message.id}`,
          children: [(0, _jsxRuntime.jsx)(_reactNative2.View, {
            testID: `message-sender-${message.sender}`,
            children: (0, _jsxRuntime.jsx)(_reactNative2.Text, {
              children: message.sender === 'agent' ? agentId : '我'
            })
          }), (0, _jsxRuntime.jsx)(_reactNative2.View, {
            testID: "message-text",
            children: (0, _jsxRuntime.jsx)(_reactNative2.Text, {
              children: message.text
            })
          })]
        }, message.id);
      })
    }), (0, _jsxRuntime.jsxs)(_reactNative2.View, {
      testID: "input-container",
      children: [(0, _jsxRuntime.jsx)(_reactNative2.TextInput, {
        testID: "message-input",
        value: inputText,
        onChangeText: setInputText,
        placeholder: "\u8F93\u5165\u6D88\u606F..."
      }), (0, _jsxRuntime.jsx)(_reactNative2.TouchableOpacity, {
        testID: "send-button",
        onPress: sendMessage,
        children: (0, _jsxRuntime.jsx)(_reactNative2.Text, {
          children: "\u53D1\u9001"
        })
      })]
    })]
  });
};
jest.spyOn(_reactNative2.Alert, 'alert').mockImplementation(function () {});
var mockNavigation = {
  navigate: jest.fn(),
  goBack: jest.fn(),
  setOptions: jest.fn()
};
var mockRoute = {
  params: {
    agentId: '小艾'
  }
};
describe('AgentChat Integration Tests', function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  it('应该正确渲染聊天界面', function () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(MockAgentChatScreen, {
        route: mockRoute,
        navigation: mockNavigation
      })),
      getByTestId = _render.getByTestId,
      getByText = _render.getByText;
    expect(getByTestId('agent-chat-screen')).toBeTruthy();
    expect(getByTestId('chat-header')).toBeTruthy();
    expect(getByText('与小艾对话')).toBeTruthy();
    expect(getByTestId('message-list')).toBeTruthy();
    expect(getByTestId('input-container')).toBeTruthy();
  });
  it('应该显示初始欢迎消息', function () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(MockAgentChatScreen, {
        route: mockRoute,
        navigation: mockNavigation
      })),
      getByText = _render2.getByText;
    expect(getByText('你好！我是小艾，很高兴为您服务！')).toBeTruthy();
  });
  it('应该能够发送消息', (0, _asyncToGenerator2.default)(function* () {
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(MockAgentChatScreen, {
        route: mockRoute,
        navigation: mockNavigation
      })),
      getByTestId = _render3.getByTestId,
      getByText = _render3.getByText;
    var messageInput = getByTestId('message-input');
    var sendButton = getByTestId('send-button');
    _reactNative.fireEvent.changeText(messageInput, '你好，我想咨询健康问题');
    _reactNative.fireEvent.press(sendButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('你好，我想咨询健康问题')).toBeTruthy();
    });
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('我理解您说的"你好，我想咨询健康问题"，让我为您提供帮助。')).toBeTruthy();
    }, {
      timeout: 2000
    });
  }));
  it('应该清空输入框在发送消息后', (0, _asyncToGenerator2.default)(function* () {
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(MockAgentChatScreen, {
        route: mockRoute,
        navigation: mockNavigation
      })),
      getByTestId = _render4.getByTestId;
    var messageInput = getByTestId('message-input');
    var sendButton = getByTestId('send-button');
    _reactNative.fireEvent.changeText(messageInput, '测试消息');
    _reactNative.fireEvent.press(sendButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(messageInput.props.value).toBe('');
    });
  }));
  it('应该不发送空消息', function () {
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(MockAgentChatScreen, {
        route: mockRoute,
        navigation: mockNavigation
      })),
      getByTestId = _render5.getByTestId,
      queryAllByTestId = _render5.queryAllByTestId;
    var sendButton = getByTestId('send-button');
    var initialMessages = queryAllByTestId(/^message-/);
    var initialCount = initialMessages.length;
    _reactNative.fireEvent.press(sendButton);
    var afterMessages = queryAllByTestId(/^message-/);
    expect(afterMessages).toHaveLength(initialCount);
  });
  it('应该正确显示消息发送者', (0, _asyncToGenerator2.default)(function* () {
    var _render6 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(MockAgentChatScreen, {
        route: mockRoute,
        navigation: mockNavigation
      })),
      getByTestId = _render6.getByTestId,
      getByText = _render6.getByText;
    var messageInput = getByTestId('message-input');
    var sendButton = getByTestId('send-button');
    _reactNative.fireEvent.changeText(messageInput, '用户消息');
    _reactNative.fireEvent.press(sendButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('我')).toBeTruthy();
    });
    yield (0, _reactNative.waitFor)(function () {
      var agentSenders = getByTestId('message-sender-agent');
      expect(agentSenders).toBeTruthy();
    }, {
      timeout: 2000
    });
  }));
  it('应该处理不同智能体的聊天', function () {
    var xiaokRoute = {
      params: {
        agentId: '小克'
      }
    };
    var _render7 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(MockAgentChatScreen, {
        route: xiaokRoute,
        navigation: mockNavigation
      })),
      getByText = _render7.getByText;
    expect(getByText('与小克对话')).toBeTruthy();
    expect(getByText('你好！我是小克，很高兴为您服务！')).toBeTruthy();
  });
  it('应该按时间顺序显示消息', (0, _asyncToGenerator2.default)(function* () {
    var _render8 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(MockAgentChatScreen, {
        route: mockRoute,
        navigation: mockNavigation
      })),
      getByTestId = _render8.getByTestId,
      queryAllByTestId = _render8.queryAllByTestId;
    var messageInput = getByTestId('message-input');
    var sendButton = getByTestId('send-button');
    var initialMessages = queryAllByTestId(/^message-/);
    var initialCount = initialMessages.length;
    _reactNative.fireEvent.changeText(messageInput, '第一条消息');
    _reactNative.fireEvent.press(sendButton);
    yield (0, _reactNative.waitFor)(function () {
      var messages = queryAllByTestId(/^message-/);
      expect(messages.length).toBeGreaterThan(initialCount);
    });
    yield (0, _reactNative.waitFor)(function () {
      var messages = queryAllByTestId(/^message-/);
      expect(messages.length).toBeGreaterThanOrEqual(initialCount + 2);
    }, {
      timeout: 2000
    });
    _reactNative.fireEvent.changeText(messageInput, '第二条消息');
    _reactNative.fireEvent.press(sendButton);
    yield (0, _reactNative.waitFor)(function () {
      var messages = queryAllByTestId(/^message-/);
      expect(messages.length).toBeGreaterThanOrEqual(initialCount + 3);
    });
  }));
  it('应该处理长消息', (0, _asyncToGenerator2.default)(function* () {
    var _render9 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(MockAgentChatScreen, {
        route: mockRoute,
        navigation: mockNavigation
      })),
      getByTestId = _render9.getByTestId,
      getByText = _render9.getByText;
    var messageInput = getByTestId('message-input');
    var sendButton = getByTestId('send-button');
    var longMessage = '这是一条很长的消息，'.repeat(10);
    _reactNative.fireEvent.changeText(messageInput, longMessage);
    _reactNative.fireEvent.press(sendButton);
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText(longMessage)).toBeTruthy();
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl9yZWFjdE5hdGl2ZTIiLCJfanN4UnVudGltZSIsIk1vY2tBZ2VudENoYXRTY3JlZW4iLCJfcmVmIiwicm91dGUiLCJhZ2VudElkIiwicGFyYW1zIiwiX1JlYWN0JHVzZVN0YXRlIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsImlkIiwidGV4dCIsInNlbmRlciIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIl9SZWFjdCR1c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheTIiLCJkZWZhdWx0IiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsIl9SZWFjdCR1c2VTdGF0ZTMiLCJfUmVhY3QkdXNlU3RhdGU0IiwiaW5wdXRUZXh0Iiwic2V0SW5wdXRUZXh0Iiwic2VuZE1lc3NhZ2UiLCJ0cmltIiwibmV3TWVzc2FnZSIsIm5vdyIsInRvU3RyaW5nIiwicHJldiIsImNvbmNhdCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJzZXRUaW1lb3V0IiwiYWdlbnRSZXBseSIsImpzeHMiLCJWaWV3IiwidGVzdElEIiwiY2hpbGRyZW4iLCJqc3giLCJUZXh0IiwibWFwIiwibWVzc2FnZSIsIlRleHRJbnB1dCIsInZhbHVlIiwib25DaGFuZ2VUZXh0IiwicGxhY2Vob2xkZXIiLCJUb3VjaGFibGVPcGFjaXR5Iiwib25QcmVzcyIsImplc3QiLCJzcHlPbiIsIkFsZXJ0IiwibW9ja0ltcGxlbWVudGF0aW9uIiwibW9ja05hdmlnYXRpb24iLCJuYXZpZ2F0ZSIsImZuIiwiZ29CYWNrIiwic2V0T3B0aW9ucyIsIm1vY2tSb3V0ZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJuYXZpZ2F0aW9uIiwiZ2V0QnlUZXN0SWQiLCJnZXRCeVRleHQiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5IiwiX3JlbmRlcjIiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVuZGVyMyIsIm1lc3NhZ2VJbnB1dCIsInNlbmRCdXR0b24iLCJmaXJlRXZlbnQiLCJjaGFuZ2VUZXh0IiwicHJlc3MiLCJ3YWl0Rm9yIiwidGltZW91dCIsIl9yZW5kZXI0IiwicHJvcHMiLCJ0b0JlIiwiX3JlbmRlcjUiLCJxdWVyeUFsbEJ5VGVzdElkIiwiaW5pdGlhbE1lc3NhZ2VzIiwiaW5pdGlhbENvdW50IiwibGVuZ3RoIiwiYWZ0ZXJNZXNzYWdlcyIsInRvSGF2ZUxlbmd0aCIsIl9yZW5kZXI2IiwiYWdlbnRTZW5kZXJzIiwieGlhb2tSb3V0ZSIsIl9yZW5kZXI3IiwiX3JlbmRlcjgiLCJ0b0JlR3JlYXRlclRoYW4iLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwiX3JlbmRlcjkiLCJsb25nTWVzc2FnZSIsInJlcGVhdCJdLCJzb3VyY2VzIjpbIkFnZW50Q2hhdC5pbnRlZ3JhdGlvbi50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBWaWV3LCBUZXh0LCBUZXh0SW5wdXQsIFRvdWNoYWJsZU9wYWNpdHksIEFsZXJ0IH0gZnJvbSAncmVhY3QtbmF0aXZlJztcblxuLy8gTW9ja+aZuuiDveS9k+iBiuWkqee7hOS7tlxuY29uc3QgTW9ja0FnZW50Q2hhdFNjcmVlbiA9ICh7IHJvdXRlIH06IGFueSkgPT4ge1xuICBjb25zdCB7IGFnZW50SWQgfSA9IHJvdXRlLnBhcmFtcztcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSBSZWFjdC51c2VTdGF0ZShbXG4gICAge1xuICAgICAgaWQ6ICcxJyxcbiAgICAgIHRleHQ6IGDkvaDlpb3vvIHmiJHmmK8ke2FnZW50SWR977yM5b6I6auY5YW05Li65oKo5pyN5Yqh77yBYCxcbiAgICAgIHNlbmRlcjogJ2FnZW50JyxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH0sXG4gIF0pO1xuICBjb25zdCBbaW5wdXRUZXh0LCBzZXRJbnB1dFRleHRdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuXG4gIGNvbnN0IHNlbmRNZXNzYWdlID0gKCkgPT4ge1xuICAgIGlmIChpbnB1dFRleHQudHJpbSgpKSB7XG4gICAgICBjb25zdCBuZXdNZXNzYWdlID0ge1xuICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICB0ZXh0OiBpbnB1dFRleHQsXG4gICAgICAgIHNlbmRlcjogJ3VzZXInLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH07XG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdNZXNzYWdlXSk7XG4gICAgICBzZXRJbnB1dFRleHQoJycpO1xuICAgICAgXG4gICAgICAvLyDmqKHmi5/mmbrog73kvZPlm57lpI1cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBhZ2VudFJlcGx5ID0ge1xuICAgICAgICAgIGlkOiAoRGF0ZS5ub3coKSArIDEpLnRvU3RyaW5nKCksXG4gICAgICAgICAgdGV4dDogYOaIkeeQhuino+aCqOivtOeahFwiJHtpbnB1dFRleHR9XCLvvIzorqnmiJHkuLrmgqjmj5DkvpvluK7liqnjgIJgLFxuICAgICAgICAgIHNlbmRlcjogJ2FnZW50JyxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfTtcbiAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgYWdlbnRSZXBseV0pO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFZpZXcgdGVzdElEPVwiYWdlbnQtY2hhdC1zY3JlZW5cIj5cbiAgICAgIDxWaWV3IHRlc3RJRD1cImNoYXQtaGVhZGVyXCI+XG4gICAgICAgIDxUZXh0PuS4jnthZ2VudElkfeWvueivnTwvVGV4dD5cbiAgICAgIDwvVmlldz5cbiAgICAgIDxWaWV3IHRlc3RJRD1cIm1lc3NhZ2UtbGlzdFwiPlxuICAgICAgICB7bWVzc2FnZXMubWFwKG1lc3NhZ2UgPT4gKFxuICAgICAgICAgIDxWaWV3IGtleT17bWVzc2FnZS5pZH0gdGVzdElEPXtgbWVzc2FnZS0ke21lc3NhZ2UuaWR9YH0+XG4gICAgICAgICAgICA8VmlldyB0ZXN0SUQ9e2BtZXNzYWdlLXNlbmRlci0ke21lc3NhZ2Uuc2VuZGVyfWB9PlxuICAgICAgICAgICAgICA8VGV4dD57bWVzc2FnZS5zZW5kZXIgPT09ICdhZ2VudCcgPyBhZ2VudElkIDogJ+aIkSd9PC9UZXh0PlxuICAgICAgICAgICAgPC9WaWV3PlxuICAgICAgICAgICAgPFZpZXcgdGVzdElEPVwibWVzc2FnZS10ZXh0XCI+XG4gICAgICAgICAgICAgIDxUZXh0PnttZXNzYWdlLnRleHR9PC9UZXh0PlxuICAgICAgICAgICAgPC9WaWV3PlxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgKSl9XG4gICAgICA8L1ZpZXc+XG4gICAgICA8VmlldyB0ZXN0SUQ9XCJpbnB1dC1jb250YWluZXJcIj5cbiAgICAgICAgPFRleHRJbnB1dFxuICAgICAgICAgIHRlc3RJRD1cIm1lc3NhZ2UtaW5wdXRcIlxuICAgICAgICAgIHZhbHVlPXtpbnB1dFRleHR9XG4gICAgICAgICAgb25DaGFuZ2VUZXh0PXtzZXRJbnB1dFRleHR9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCLovpPlhaXmtojmga8uLi5cIlxuICAgICAgICAvPlxuICAgICAgICA8VG91Y2hhYmxlT3BhY2l0eSB0ZXN0SUQ9XCJzZW5kLWJ1dHRvblwiIG9uUHJlc3M9e3NlbmRNZXNzYWdlfT5cbiAgICAgICAgICA8VGV4dD7lj5HpgIE8L1RleHQ+XG4gICAgICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cbiAgICAgIDwvVmlldz5cbiAgICA8L1ZpZXc+XG4gICk7XG59O1xuXG4vLyBNb2NrIEFsZXJ0XG5qZXN0LnNweU9uKEFsZXJ0LCAnYWxlcnQnKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pO1xuXG4vLyBNb2NrIG5hdmlnYXRpb25cbmNvbnN0IG1vY2tOYXZpZ2F0aW9uID0ge1xuICBuYXZpZ2F0ZTogamVzdC5mbigpLFxuICBnb0JhY2s6IGplc3QuZm4oKSxcbiAgc2V0T3B0aW9uczogamVzdC5mbigpLFxufTtcblxuY29uc3QgbW9ja1JvdXRlID0ge1xuICBwYXJhbXM6IHtcbiAgICBhZ2VudElkOiAn5bCP6Im+JyxcbiAgfSxcbn07XG5cbmRlc2NyaWJlKCdBZ2VudENoYXQgSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5q2j56Gu5riy5p+T6IGK5aSp55WM6Z2iJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQsIGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxuICAgICAgPE1vY2tBZ2VudENoYXRTY3JlZW4gcm91dGU9e21vY2tSb3V0ZX0gbmF2aWdhdGlvbj17bW9ja05hdmlnYXRpb259IC8+XG4gICAgKTtcblxuICAgIGV4cGVjdChnZXRCeVRlc3RJZCgnYWdlbnQtY2hhdC1zY3JlZW4nKSkudG9CZVRydXRoeSgpO1xuICAgIGV4cGVjdChnZXRCeVRlc3RJZCgnY2hhdC1oZWFkZXInKSkudG9CZVRydXRoeSgpO1xuICAgIGV4cGVjdChnZXRCeVRleHQoJ+S4juWwj+iJvuWvueivnScpKS50b0JlVHJ1dGh5KCk7XG4gICAgZXhwZWN0KGdldEJ5VGVzdElkKCdtZXNzYWdlLWxpc3QnKSkudG9CZVRydXRoeSgpO1xuICAgIGV4cGVjdChnZXRCeVRlc3RJZCgnaW5wdXQtY29udGFpbmVyJykpLnRvQmVUcnV0aHkoKTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeaYvuekuuWIneWni+asoui/jua2iOaBrycsICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGV4dCB9ID0gcmVuZGVyKFxuICAgICAgPE1vY2tBZ2VudENoYXRTY3JlZW4gcm91dGU9e21vY2tSb3V0ZX0gbmF2aWdhdGlvbj17bW9ja05hdmlnYXRpb259IC8+XG4gICAgKTtcblxuICAgIGV4cGVjdChnZXRCeVRleHQoJ+S9oOWlve+8geaIkeaYr+Wwj+iJvu+8jOW+iOmrmOWFtOS4uuaCqOacjeWKoe+8gScpKS50b0JlVHJ1dGh5KCk7XG4gIH0pO1xuXG4gIGl0KCflupTor6Xog73lpJ/lj5HpgIHmtojmga8nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCwgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXG4gICAgICA8TW9ja0FnZW50Q2hhdFNjcmVlbiByb3V0ZT17bW9ja1JvdXRlfSBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn0gLz5cbiAgICApO1xuXG4gICAgY29uc3QgbWVzc2FnZUlucHV0ID0gZ2V0QnlUZXN0SWQoJ21lc3NhZ2UtaW5wdXQnKTtcbiAgICBjb25zdCBzZW5kQnV0dG9uID0gZ2V0QnlUZXN0SWQoJ3NlbmQtYnV0dG9uJyk7XG5cbiAgICAvLyDovpPlhaXmtojmga9cbiAgICBmaXJlRXZlbnQuY2hhbmdlVGV4dChtZXNzYWdlSW5wdXQsICfkvaDlpb3vvIzmiJHmg7Plkqjor6LlgaXlurfpl67popgnKTtcbiAgICBcbiAgICAvLyDlj5HpgIHmtojmga9cbiAgICBmaXJlRXZlbnQucHJlc3Moc2VuZEJ1dHRvbik7XG5cbiAgICAvLyDpqozor4HnlKjmiLfmtojmga/mmL7npLpcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ+S9oOWlve+8jOaIkeaDs+WSqOivouWBpeW6t+mXrumimCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICAvLyDpqozor4Hmmbrog73kvZPlm57lpI1cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ+aIkeeQhuino+aCqOivtOeahFwi5L2g5aW977yM5oiR5oOz5ZKo6K+i5YGl5bq36Zeu6aKYXCLvvIzorqnmiJHkuLrmgqjmj5DkvpvluK7liqnjgIInKSkudG9CZVRydXRoeSgpO1xuICAgIH0sIHsgdGltZW91dDogMjAwMCB9KTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpea4heepuui+k+WFpeahhuWcqOWPkemAgea2iOaBr+WQjicsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkIH0gPSByZW5kZXIoXG4gICAgICA8TW9ja0FnZW50Q2hhdFNjcmVlbiByb3V0ZT17bW9ja1JvdXRlfSBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn0gLz5cbiAgICApO1xuXG4gICAgY29uc3QgbWVzc2FnZUlucHV0ID0gZ2V0QnlUZXN0SWQoJ21lc3NhZ2UtaW5wdXQnKTtcbiAgICBjb25zdCBzZW5kQnV0dG9uID0gZ2V0QnlUZXN0SWQoJ3NlbmQtYnV0dG9uJyk7XG5cbiAgICAvLyDovpPlhaXmtojmga9cbiAgICBmaXJlRXZlbnQuY2hhbmdlVGV4dChtZXNzYWdlSW5wdXQsICfmtYvor5Xmtojmga8nKTtcblxuICAgIC8vIOWPkemAgea2iOaBr1xuICAgIGZpcmVFdmVudC5wcmVzcyhzZW5kQnV0dG9uKTtcblxuICAgIC8vIOmqjOivgei+k+WFpeahhuiiq+a4heepulxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1lc3NhZ2VJbnB1dC5wcm9wcy52YWx1ZSkudG9CZSgnJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCflupTor6XkuI3lj5HpgIHnqbrmtojmga8nLCAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCwgcXVlcnlBbGxCeVRlc3RJZCB9ID0gcmVuZGVyKFxuICAgICAgPE1vY2tBZ2VudENoYXRTY3JlZW4gcm91dGU9e21vY2tSb3V0ZX0gbmF2aWdhdGlvbj17bW9ja05hdmlnYXRpb259IC8+XG4gICAgKTtcblxuICAgIGNvbnN0IHNlbmRCdXR0b24gPSBnZXRCeVRlc3RJZCgnc2VuZC1idXR0b24nKTtcbiAgICBcbiAgICAvLyDojrflj5bliJ3lp4vmtojmga/mlbDph49cbiAgICBjb25zdCBpbml0aWFsTWVzc2FnZXMgPSBxdWVyeUFsbEJ5VGVzdElkKC9ebWVzc2FnZS0vKTtcbiAgICBjb25zdCBpbml0aWFsQ291bnQgPSBpbml0aWFsTWVzc2FnZXMubGVuZ3RoO1xuXG4gICAgLy8g5bCd6K+V5Y+R6YCB56m65raI5oGvXG4gICAgZmlyZUV2ZW50LnByZXNzKHNlbmRCdXR0b24pO1xuXG4gICAgLy8g6aqM6K+B5rKh5pyJ5paw5raI5oGv5re75YqgXG4gICAgY29uc3QgYWZ0ZXJNZXNzYWdlcyA9IHF1ZXJ5QWxsQnlUZXN0SWQoL15tZXNzYWdlLS8pO1xuICAgIGV4cGVjdChhZnRlck1lc3NhZ2VzKS50b0hhdmVMZW5ndGgoaW5pdGlhbENvdW50KTsgLy8g5raI5oGv5pWw6YeP5LiN5Y+YXG4gIH0pO1xuXG4gIGl0KCflupTor6XmraPnoa7mmL7npLrmtojmga/lj5HpgIHogIUnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBnZXRCeVRlc3RJZCwgZ2V0QnlUZXh0IH0gPSByZW5kZXIoXG4gICAgICA8TW9ja0FnZW50Q2hhdFNjcmVlbiByb3V0ZT17bW9ja1JvdXRlfSBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn0gLz5cbiAgICApO1xuXG4gICAgY29uc3QgbWVzc2FnZUlucHV0ID0gZ2V0QnlUZXN0SWQoJ21lc3NhZ2UtaW5wdXQnKTtcbiAgICBjb25zdCBzZW5kQnV0dG9uID0gZ2V0QnlUZXN0SWQoJ3NlbmQtYnV0dG9uJyk7XG5cbiAgICAvLyDlj5HpgIHnlKjmiLfmtojmga9cbiAgICBmaXJlRXZlbnQuY2hhbmdlVGV4dChtZXNzYWdlSW5wdXQsICfnlKjmiLfmtojmga8nKTtcbiAgICBmaXJlRXZlbnQucHJlc3Moc2VuZEJ1dHRvbik7XG5cbiAgICAvLyDpqozor4HnlKjmiLfmtojmga/lj5HpgIHogIXmmL7npLpcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChnZXRCeVRleHQoJ+aIkScpKS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICAvLyDpqozor4Hmmbrog73kvZPmtojmga/lj5HpgIHogIXmmL7npLpcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGNvbnN0IGFnZW50U2VuZGVycyA9IGdldEJ5VGVzdElkKCdtZXNzYWdlLXNlbmRlci1hZ2VudCcpO1xuICAgICAgZXhwZWN0KGFnZW50U2VuZGVycykudG9CZVRydXRoeSgpO1xuICAgIH0sIHsgdGltZW91dDogMjAwMCB9KTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWkhOeQhuS4jeWQjOaZuuiDveS9k+eahOiBiuWkqScsICgpID0+IHtcbiAgICBjb25zdCB4aWFva1JvdXRlID0ge1xuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGFnZW50SWQ6ICflsI/lhYsnLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlcihcbiAgICAgIDxNb2NrQWdlbnRDaGF0U2NyZWVuIHJvdXRlPXt4aWFva1JvdXRlfSBuYXZpZ2F0aW9uPXttb2NrTmF2aWdhdGlvbn0gLz5cbiAgICApO1xuXG4gICAgZXhwZWN0KGdldEJ5VGV4dCgn5LiO5bCP5YWL5a+56K+dJykpLnRvQmVUcnV0aHkoKTtcbiAgICBleHBlY3QoZ2V0QnlUZXh0KCfkvaDlpb3vvIHmiJHmmK/lsI/lhYvvvIzlvojpq5jlhbTkuLrmgqjmnI3liqHvvIEnKSkudG9CZVRydXRoeSgpO1xuICB9KTtcblxuICBpdCgn5bqU6K+l5oyJ5pe26Ze06aG65bqP5pi+56S65raI5oGvJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQsIHF1ZXJ5QWxsQnlUZXN0SWQgfSA9IHJlbmRlcihcbiAgICAgIDxNb2NrQWdlbnRDaGF0U2NyZWVuIHJvdXRlPXttb2NrUm91dGV9IG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSAvPlxuICAgICk7XG5cbiAgICBjb25zdCBtZXNzYWdlSW5wdXQgPSBnZXRCeVRlc3RJZCgnbWVzc2FnZS1pbnB1dCcpO1xuICAgIGNvbnN0IHNlbmRCdXR0b24gPSBnZXRCeVRlc3RJZCgnc2VuZC1idXR0b24nKTtcblxuICAgIC8vIOiOt+WPluWIneWni+a2iOaBr+aVsOmHj1xuICAgIGNvbnN0IGluaXRpYWxNZXNzYWdlcyA9IHF1ZXJ5QWxsQnlUZXN0SWQoL15tZXNzYWdlLS8pO1xuICAgIGNvbnN0IGluaXRpYWxDb3VudCA9IGluaXRpYWxNZXNzYWdlcy5sZW5ndGg7XG5cbiAgICAvLyDlj5HpgIHnrKzkuIDmnaHmtojmga9cbiAgICBmaXJlRXZlbnQuY2hhbmdlVGV4dChtZXNzYWdlSW5wdXQsICfnrKzkuIDmnaHmtojmga8nKTtcbiAgICBmaXJlRXZlbnQucHJlc3Moc2VuZEJ1dHRvbik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gcXVlcnlBbGxCeVRlc3RJZCgvXm1lc3NhZ2UtLyk7XG4gICAgICBleHBlY3QobWVzc2FnZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oaW5pdGlhbENvdW50KTsgLy8g5pyJ5paw5raI5oGv5re75YqgXG4gICAgfSk7XG5cbiAgICAvLyDnrYnlvoXmmbrog73kvZPlm57lpI1cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gcXVlcnlBbGxCeVRlc3RJZCgvXm1lc3NhZ2UtLyk7XG4gICAgICBleHBlY3QobWVzc2FnZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKGluaXRpYWxDb3VudCArIDIpOyAvLyDnlKjmiLfmtojmga8gKyDmmbrog73kvZPlm57lpI1cbiAgICB9LCB7IHRpbWVvdXQ6IDIwMDAgfSk7XG5cbiAgICAvLyDlj5HpgIHnrKzkuozmnaHmtojmga9cbiAgICBmaXJlRXZlbnQuY2hhbmdlVGV4dChtZXNzYWdlSW5wdXQsICfnrKzkuozmnaHmtojmga8nKTtcbiAgICBmaXJlRXZlbnQucHJlc3Moc2VuZEJ1dHRvbik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gcXVlcnlBbGxCeVRlc3RJZCgvXm1lc3NhZ2UtLyk7XG4gICAgICBleHBlY3QobWVzc2FnZXMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKGluaXRpYWxDb3VudCArIDMpOyAvLyDmm7TlpJrmtojmga9cbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ+W6lOivpeWkhOeQhumVv+a2iOaBrycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IGdldEJ5VGVzdElkLCBnZXRCeVRleHQgfSA9IHJlbmRlcihcbiAgICAgIDxNb2NrQWdlbnRDaGF0U2NyZWVuIHJvdXRlPXttb2NrUm91dGV9IG5hdmlnYXRpb249e21vY2tOYXZpZ2F0aW9ufSAvPlxuICAgICk7XG5cbiAgICBjb25zdCBtZXNzYWdlSW5wdXQgPSBnZXRCeVRlc3RJZCgnbWVzc2FnZS1pbnB1dCcpO1xuICAgIGNvbnN0IHNlbmRCdXR0b24gPSBnZXRCeVRlc3RJZCgnc2VuZC1idXR0b24nKTtcblxuICAgIGNvbnN0IGxvbmdNZXNzYWdlID0gJ+i/meaYr+S4gOadoeW+iOmVv+eahOa2iOaBr++8jCcucmVwZWF0KDEwKTtcblxuICAgIGZpcmVFdmVudC5jaGFuZ2VUZXh0KG1lc3NhZ2VJbnB1dCwgbG9uZ01lc3NhZ2UpO1xuICAgIGZpcmVFdmVudC5wcmVzcyhzZW5kQnV0dG9uKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dChsb25nTWVzc2FnZSkpLnRvQmVUcnV0aHkoKTtcbiAgICB9KTtcbiAgfSk7XG59KTsgIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMs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