# ç´¢å…‹ç”Ÿæ´» Agentic AI æµ‹è¯•éªŒè¯æ–‡æ¡£

## ğŸ“‹ æµ‹è¯•æ¦‚è¿°

æœ¬æµ‹è¯•å¥—ä»¶ä¸ºç´¢å…‹ç”Ÿæ´»çš„Agentic AIæ¶æ„å‡çº§æä¾›å…¨é¢çš„è´¨é‡ä¿è¯ï¼Œç¡®ä¿ç³»ç»Ÿåœ¨å„ç§åœºæ™¯ä¸‹çš„å¯é æ€§ã€æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚

## ğŸ—ï¸ æµ‹è¯•æ¶æ„

### æµ‹è¯•åˆ†å±‚ç»“æ„

```
tests/
â”œâ”€â”€ agentic/                 # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ AgenticWorkflowEngine.test.ts
â”‚   â”œâ”€â”€ ReflectionSystem.test.ts
â”‚   â”œâ”€â”€ PlanningSystem.test.ts
â”‚   â”œâ”€â”€ ToolOrchestrationSystem.test.ts
â”‚   â””â”€â”€ AgenticCollaborationSystem.test.ts
â”œâ”€â”€ integration/             # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ AgenticIntegration.test.ts
â”œâ”€â”€ performance/             # æ€§èƒ½æµ‹è¯•
â”‚   â””â”€â”€ AgenticPerformance.test.ts
â”œâ”€â”€ e2e/                     # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â””â”€â”€ AgenticE2E.test.ts
â”œâ”€â”€ setup/                   # æµ‹è¯•é…ç½®
â”‚   â”œâ”€â”€ jest.setup.ts
â”‚   â””â”€â”€ custom-matchers.ts
â”œâ”€â”€ scripts/                 # æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ run-tests.sh
â”œâ”€â”€ jest.config.js           # Jesté…ç½®
â””â”€â”€ README.md               # æœ¬æ–‡æ¡£
```

## ğŸ§ª æµ‹è¯•ç±»å‹

### 1. å•å…ƒæµ‹è¯• (Unit Tests)
- **ç›®æ ‡**: æµ‹è¯•å„ä¸ªAgentic AIç»„ä»¶çš„ç‹¬ç«‹åŠŸèƒ½
- **è¦†ç›–èŒƒå›´**: 
  - AgenticWorkflowEngine: å·¥ä½œæµå¼•æ“æ ¸å¿ƒé€»è¾‘
  - ReflectionSystem: åæ€ç³»ç»Ÿçš„è‡ªæˆ‘è¯„ä¼°èƒ½åŠ›
  - PlanningSystem: è§„åˆ’ç³»ç»Ÿçš„å†³ç­–åˆ¶å®š
  - ToolOrchestrationSystem: å·¥å…·ç¼–æ’å’Œé€‰æ‹©
  - AgenticCollaborationSystem: å¤šæ™ºèƒ½ä½“åä½œæœºåˆ¶

### 2. é›†æˆæµ‹è¯• (Integration Tests)
- **ç›®æ ‡**: éªŒè¯Agentic AIç³»ç»Ÿä¸ç°æœ‰æ¶æ„çš„é›†æˆ
- **è¦†ç›–èŒƒå›´**:
  - äº”è¯Šç³»ç»Ÿé›†æˆ
  - åŒºå—é“¾å¥åº·æ•°æ®é›†æˆ
  - å¾®æœåŠ¡æ¶æ„é›†æˆ
  - å››ä¸ªæ™ºèƒ½ä½“åä½œæµç¨‹

### 3. æ€§èƒ½æµ‹è¯• (Performance Tests)
- **ç›®æ ‡**: ç¡®ä¿ç³»ç»Ÿæ»¡è¶³æ€§èƒ½è¦æ±‚
- **å…³é”®æŒ‡æ ‡**:
  - å“åº”æ—¶é—´: ç®€å•ä»»åŠ¡ <200ms, å¤æ‚ä»»åŠ¡ <2s
  - ååé‡: â‰¥50 è¯·æ±‚/ç§’
  - å†…å­˜ä½¿ç”¨: åˆç†èŒƒå›´å†…
  - å¹¶å‘å¤„ç†: æ”¯æŒé«˜è´Ÿè½½

### 4. ç«¯åˆ°ç«¯æµ‹è¯• (E2E Tests)
- **ç›®æ ‡**: æ¨¡æ‹ŸçœŸå®ç”¨æˆ·åœºæ™¯çš„å®Œæ•´æµç¨‹
- **æµ‹è¯•åœºæ™¯**:
  - æ–°ç”¨æˆ·å¥åº·è¯„ä¼°æµç¨‹
  - è€å¹´æ…¢æ€§ç—…ç®¡ç†æµç¨‹
  - æ€¥æ€§ç—‡çŠ¶ç´§æ€¥å¤„ç†
  - å¤æ‚ç—…ä¾‹å¤šæ™ºèƒ½ä½“ä¼šè¯Š

## ğŸ¯ æ€§èƒ½åŸºå‡†

### å“åº”æ—¶é—´ç›®æ ‡
- **ç®€å•å’¨è¯¢**: < 200ms
- **å¤æ‚è¯Šæ–­**: < 2000ms
- **ç´§æ€¥å¤„ç†**: < 30s (é¦–æ¬¡å“åº”)
- **åä½œå†³ç­–**: < 5000ms

### è´¨é‡åˆ†æ•°ç›®æ ‡
- **è¯Šæ–­å‡†ç¡®ç‡**: > 90%
- **ç”¨æˆ·æ»¡æ„åº¦**: > 90%
- **åä½œå…±è¯†ç‡**: > 88%
- **ç³»ç»Ÿå¯ç”¨æ€§**: > 99.5%

### ååé‡ç›®æ ‡
- **å¹¶å‘ç”¨æˆ·**: æ”¯æŒ1000+
- **æ¯ç§’è¯·æ±‚**: â‰¥ 50 req/s
- **å³°å€¼å¤„ç†**: æ”¯æŒ10å€çªå‘æµé‡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js >= 16.0.0
- npm >= 8.0.0
- TypeScript >= 4.5.0
- Jest >= 29.0.0

### å®‰è£…ä¾èµ–
```bash
npm install
```

### è¿è¡Œæµ‹è¯•

#### è¿è¡Œæ‰€æœ‰æµ‹è¯•
```bash
./tests/scripts/run-tests.sh --all
```

#### è¿è¡Œç‰¹å®šç±»å‹æµ‹è¯•
```bash
# å•å…ƒæµ‹è¯•
./tests/scripts/run-tests.sh --unit

# é›†æˆæµ‹è¯•
./tests/scripts/run-tests.sh --integration

# æ€§èƒ½æµ‹è¯•
./tests/scripts/run-tests.sh --performance

# ç«¯åˆ°ç«¯æµ‹è¯•
./tests/scripts/run-tests.sh --e2e
```

#### ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
```bash
./tests/scripts/run-tests.sh --unit --coverage
```

#### ç›‘è§†æ¨¡å¼
```bash
./tests/scripts/run-tests.sh --watch
```

## ğŸ“Š æµ‹è¯•æŠ¥å‘Š

### æŠ¥å‘Šç±»å‹
1. **HTMLæŠ¥å‘Š**: `tests/reports/test-report.html`
2. **è¦†ç›–ç‡æŠ¥å‘Š**: `tests/coverage/lcov-report/index.html`
3. **JUnitæŠ¥å‘Š**: `tests/reports/junit.xml`
4. **æ€§èƒ½æŠ¥å‘Š**: æ§åˆ¶å°è¾“å‡º

### è¦†ç›–ç‡è¦æ±‚
- **æ•´ä½“è¦†ç›–ç‡**: â‰¥ 85%
- **æ ¸å¿ƒç»„ä»¶è¦†ç›–ç‡**: â‰¥ 90%
- **åˆ†æ”¯è¦†ç›–ç‡**: â‰¥ 80%
- **å‡½æ•°è¦†ç›–ç‡**: â‰¥ 85%

## ğŸ”§ è‡ªå®šä¹‰åŒ¹é…å™¨

æµ‹è¯•å¥—ä»¶æä¾›äº†ä¸“ç”¨çš„JeståŒ¹é…å™¨ï¼š

```typescript
// éªŒè¯Agenticä»»åŠ¡æ ¼å¼
expect(task).toBeValidAgenticTask();

// éªŒè¯å·¥ä½œæµç»“æœ
expect(result).toBeValidWorkflowResult();

// éªŒè¯è´¨é‡åˆ†æ•°
expect(result).toHaveQualityScore(0.8, 1.0);

// éªŒè¯å“åº”æ—¶é—´
expect(result).toHaveResponseTimeBelow(1000);

// éªŒè¯è¯Šæ–­ç»“æœ
expect(diagnosis).toBeValidDiagnosis();

// éªŒè¯åä½œç»“æœ
expect(collaboration).toBeValidCollaborationResult();
```

## ğŸ§© æµ‹è¯•åœºæ™¯

### å¥åº·ç®¡ç†åœºæ™¯
1. **æ–°ç”¨æˆ·é¦–æ¬¡è¯„ä¼°**
   - åˆå§‹å¥åº·å’¨è¯¢
   - äº”è¯Šè¯¦ç»†è¯„ä¼°
   - ä¸ªæ€§åŒ–æ²»ç–—æ–¹æ¡ˆ
   - é•¿æœŸå¥åº·è®¡åˆ’

2. **æ…¢æ€§ç—…ç®¡ç†**
   - ç—…æƒ…çŠ¶æ€è¯„ä¼°
   - è¯ç‰©è°ƒæ•´å»ºè®®
   - ç”Ÿæ´»æ–¹å¼å¹²é¢„
   - é•¿æœŸç›‘æŠ¤è®¡åˆ’

3. **ç´§æ€¥å¤„ç†**
   - æ€¥æ€§ç—‡çŠ¶è¯†åˆ«
   - ç´§æ€¥å¤„ç†æŒ‡å¯¼
   - å®æ—¶ç›‘æŠ¤
   - è½¬è¯Šå»ºè®®

### æŠ€æœ¯é›†æˆåœºæ™¯
1. **äº”è¯Šç³»ç»Ÿé›†æˆ**
   - æœ›é—»é—®åˆ‡ç®—æ•°æ®å¤„ç†
   - ä¸­åŒ»è¯å€™åˆ†æ
   - ä½“è´¨è¾¨è¯†

2. **åŒºå—é“¾é›†æˆ**
   - æ•°æ®å®Œæ•´æ€§éªŒè¯
   - éšç§ä¿æŠ¤
   - å®¡è®¡è¿½è¸ª

3. **å¾®æœåŠ¡é›†æˆ**
   - æœåŠ¡é—´é€šä¿¡
   - æ•°æ®ä¸€è‡´æ€§
   - æ•…éšœå®¹é”™

## ğŸ” è°ƒè¯•å’Œæ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æµ‹è¯•è¶…æ—¶**
   ```bash
   # å¢åŠ è¶…æ—¶æ—¶é—´
   jest --testTimeout=60000
   ```

2. **å†…å­˜ä¸è¶³**
   ```bash
   # é™åˆ¶å¹¶å‘æ•°
   jest --maxWorkers=2
   ```

3. **æ¨¡æ‹Ÿå¤±è´¥**
   ```bash
   # æ¸…é™¤æ¨¡æ‹Ÿç¼“å­˜
   jest --clearCache
   ```

### è°ƒè¯•æŠ€å·§

1. **å¯ç”¨è¯¦ç»†è¾“å‡º**
   ```bash
   ./tests/scripts/run-tests.sh --verbose
   ```

2. **è¿è¡Œå•ä¸ªæµ‹è¯•**
   ```bash
   npx jest --testNamePattern="ç‰¹å®šæµ‹è¯•åç§°"
   ```

3. **è°ƒè¯•æ¨¡å¼**
   ```bash
   node --inspect-brk node_modules/.bin/jest --runInBand
   ```

## ğŸ“ˆ æŒç»­é›†æˆ

### CI/CD é…ç½®
```yaml
# .github/workflows/test.yml
name: Agentic AI Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm ci
      - run: ./tests/scripts/run-tests.sh --all --ci --coverage
      - uses: codecov/codecov-action@v3
```

### è´¨é‡é—¨ç¦
- æ‰€æœ‰æµ‹è¯•å¿…é¡»é€šè¿‡
- è¦†ç›–ç‡ä¸ä½äº85%
- æ€§èƒ½æŒ‡æ ‡æ»¡è¶³è¦æ±‚
- æ— ä¸¥é‡å®‰å…¨æ¼æ´

## ğŸ¨ æœ€ä½³å®è·µ

### æµ‹è¯•ç¼–å†™åŸåˆ™
1. **AAAæ¨¡å¼**: Arrange, Act, Assert
2. **å•ä¸€èŒè´£**: æ¯ä¸ªæµ‹è¯•åªéªŒè¯ä¸€ä¸ªåŠŸèƒ½ç‚¹
3. **ç‹¬ç«‹æ€§**: æµ‹è¯•ä¹‹é—´ä¸åº”ç›¸äº’ä¾èµ–
4. **å¯é‡å¤æ€§**: æµ‹è¯•ç»“æœåº”è¯¥ä¸€è‡´
5. **æœ‰æ„ä¹‰çš„å‘½å**: æµ‹è¯•åç§°åº”æ¸…æ¥šæè¿°æµ‹è¯•å†…å®¹

### æ€§èƒ½æµ‹è¯•å»ºè®®
1. **åŸºå‡†æµ‹è¯•**: å»ºç«‹æ€§èƒ½åŸºå‡†çº¿
2. **è´Ÿè½½æµ‹è¯•**: æ¨¡æ‹ŸçœŸå®è´Ÿè½½
3. **å‹åŠ›æµ‹è¯•**: æµ‹è¯•ç³»ç»Ÿæé™
4. **ç›‘æ§æŒ‡æ ‡**: å…³æ³¨å…³é”®æ€§èƒ½æŒ‡æ ‡

### æ¨¡æ‹Ÿç­–ç•¥
1. **å¤–éƒ¨ä¾èµ–**: æ¨¡æ‹Ÿæ‰€æœ‰å¤–éƒ¨æœåŠ¡
2. **æ—¶é—´æ§åˆ¶**: ä½¿ç”¨å›ºå®šæ—¶é—´è¿›è¡Œæµ‹è¯•
3. **éšæœºæ€§**: æ§åˆ¶éšæœºå› ç´ 
4. **ç½‘ç»œæ¡ä»¶**: æ¨¡æ‹Ÿä¸åŒç½‘ç»œç¯å¢ƒ

## ğŸ“š å‚è€ƒèµ„æº

- [Jest å®˜æ–¹æ–‡æ¡£](https://jestjs.io/docs/getting-started)
- [TypeScript Jest é…ç½®](https://jestjs.io/docs/getting-started#using-typescript)
- [æµ‹è¯•æœ€ä½³å®è·µ](https://github.com/goldbergyoni/javascript-testing-best-practices)
- [æ€§èƒ½æµ‹è¯•æŒ‡å—](https://web.dev/performance-testing/)

## ğŸ¤ è´¡çŒ®æŒ‡å—

### æ·»åŠ æ–°æµ‹è¯•
1. ç¡®å®šæµ‹è¯•ç±»å‹å’Œä½ç½®
2. éµå¾ªç°æœ‰å‘½åçº¦å®š
3. ä½¿ç”¨è‡ªå®šä¹‰åŒ¹é…å™¨
4. æ·»åŠ é€‚å½“çš„æ–‡æ¡£
5. æ›´æ–°è¦†ç›–ç‡è¦æ±‚

### æŠ¥å‘Šé—®é¢˜
1. æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
2. åŒ…å«é‡ç°æ­¥éª¤
3. è¯´æ˜é¢„æœŸè¡Œä¸º
4. æä¾›ç¯å¢ƒä¿¡æ¯

---

**æ³¨æ„**: æœ¬æµ‹è¯•å¥—ä»¶æ˜¯ç´¢å…‹ç”Ÿæ´»Agentic AIæ¶æ„å‡çº§çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œç¡®ä¿ç³»ç»Ÿè´¨é‡å’Œç”¨æˆ·ä½“éªŒã€‚è¯·åœ¨ä¿®æ”¹ä»£ç ååŠæ—¶è¿è¡Œç›¸å…³æµ‹è¯•ï¼Œä¿æŒä»£ç è´¨é‡ã€‚